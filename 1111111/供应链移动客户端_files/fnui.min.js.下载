!function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;a=function(a){var b,c={};return c.VERSION="2.0",c.support={},c.support.transition=function(){var a=document.createElement("fnui"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}(),a.fn.emulateTransitionEnd=function(b){var d=!1,e=this;a(this).one("fnTransitionEnd",function(){d=!0});var f=function(){d||a(e).trigger(c.support.transition.end)};return setTimeout(f,b),this},a(function(){c.support.transition&&(a.event.special.fnTransitionEnd={bindType:c.support.transition.end,delegateType:c.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})}),c.support.animation=function(){var a=document.createElement("fnui"),b={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}(),a.fn.emulateAnimationEnd=function(b){var d=!1,e=this;a(this).one("fnAnimationEnd",function(){d=!0});var f=function(){d||a(e).trigger(c.support.animation)};return setTimeout(f,b),this},a(function(){c.support.animation&&(a.event.special.fnAnimationEnd={bindType:c.support.animation.end,delegateType:c.support.animation.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})}),c.rAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||function(a){return window.setTimeout(a,1e3/60)}}(),c.cancelAF=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||function(a){window.clearTimeout(a)}}(),c.plugin=function(b,d,e){var f=a.fn[b];e=e||{},a.fn[b]=function(f){var g,h=Array.prototype.slice.call(arguments,0),i=h.slice(1),j=this.each(function(){var j=a(this),k="fnui."+b,l=e.dataOptions||"data-fn-"+b,m=j.data(k),n=a.extend({},c.utils.parseOptions(j.attr(l)),"object"==typeof f&&f);(m||"destroy"!==f)&&(m||j.data(k,m=new d(this,n)),e.methodCall?e.methodCall.call(j,h,m):(e.before&&e.before.call(j,h,m),"string"==typeof f&&(g="function"==typeof m[f]?m[f].apply(m,i):m[f]),e.after&&e.after.call(j,h,m)))});return void 0===g?j:g},a.fn[b].Constructor=d,a.fn[b].noConflict=function(){return a.fn[b]=f,this},c[b]=d},c.utils={},c.utils.debounce=function(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}},c.utils.parseOptions=function(b){if(a.isPlainObject(b))return b;var c=b?b.indexOf("{"):-1,d={};if(-1!=c)try{d=new Function("","var json = "+b.substr(c)+"; return JSON.parse(JSON.stringify(json));")()}catch(e){}return d},c.utils.generateGUID=function(a){var b=a+"-"||"fn-";do b+=Math.random().toString(36).substring(2,7);while(document.getElementById(b));return b},c.DOMWatchers=[],c.DOMReady=!1,c.ready=function(a){c.DOMWatchers.push(a),c.DOMReady&&a(document)},c.DOMObserve=function(b,d,e){var f=c.support.mutationobserver;f&&(d=a.isPlainObject(d)?d:{childList:!0,subtree:!0},e="function"==typeof e&&e||function(){},a(b).each(function(){var b=this,g=a(b);if(!g.data("am.observer"))try{var h=new f(c.utils.debounce(function(a,c){e.call(b,a,c),g.trigger("changed.dom.fnui")},50));h.observe(b,d),g.data("am.observer",h)}catch(i){}}))},a.fn.DOMObserve=function(a,b){return this.each(function(){c.DOMObserve(this,a,b)})},c.support.touch&&a(html).addClass("fn-touch"),a(document).on("changed.dom.fnui",function(b){var d=b.target;a.each(c.DOMWatchers,function(a,b){b(d)})}),a(function(){c.DOMReady=!0,a.each(c.DOMWatchers,function(a,b){b(document)})}),b=c}(jQuery),b=function(a,b){var c=function(){this.id=b.utils.generateGUID("fn-dimmer"),this.$element=a(c.DEFAULTS.tpl,{id:this.id}),this.inited=!1,this.scrollbarWidth=0,this.$used=a([])};return c.VERSION="2.0.0",c.DEFAULTS={tpl:'<div class="fn-dimmer" data-fn-dimmer></div>'},c.prototype.init=function(){return this.inited||(a(document.body).append(this.$element),this.inited=!0,a(document).trigger("init.dimmer"),this.$element.on("touchmove.dimmer",function(a){a.preventDefault()})),this},c.prototype.open=function(c){this.inited||this.init();var d=this.$element;return c&&(this.$used=this.$used.add(a(c))),this.checkScrollbar().setScrollbar(),d.show().trigger("open.dimmer"),b.support.transition&&d.off(b.support.transition.end),setTimeout(function(){d.addClass("fn-active")},0),this},c.prototype.close=function(b,c){function d(){e.hide(),this.resetScrollbar()}if(this.$used=this.$used.not(a(b)),!c&&this.$used.length)return this;var e=this.$element;return e.removeClass("fn-active").trigger("close.dimmer"),d.call(this),this},c.prototype.measureScrollbar=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var b=a('<div style="width: 100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;"></div>');a(document.body).append(b);var c=b[0].offsetWidth-b[0].clientWidth;return b.remove(),c},c.prototype.checkScrollbar=function(){return this.scrollbarWidth=this.measureScrollbar(),this},c.prototype.setScrollbar=function(){var b=a(document.body),c=parseInt(b.css("padding-right")||0,10);return this.scrollbarWidth&&b.css("padding-right",c+this.scrollbarWidth),b.addClass("fn-dimmer-active"),this},c.prototype.resetScrollbar=function(){return a(document.body).css("padding-right","").removeClass("fn-dimmer-active"),this},b.dimmer=new c,a.dimmer=b.dimmer}(jQuery,a),c=function(a,b){var c=function(b){var c=this;this.$element=a(b),this.$element.addClass("fn-fade fn-in").on("click.alert",".fn-close",function(){c.close()})};return c.VERSION="2.0.0",c.prototype.close=function(){function a(){c.trigger("closed.alert").remove()}var c=this.$element;c.trigger("close.alert").removeClass("fn-in"),b.support.transition&&c.hasClass("fn-fade")?c.one("fnTransitionEnd",a).emulateTransitionEnd(200):a()},b.plugin("alert",c),a(document).on("click.alert.data-api","[data-fn-alert]",function(b){var c=a(b.target);c.is(".fn-close")&&a(this).alert("close")}),c}(jQuery,a),d=function(a,b){var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1,this.hasSpinner=!1};return c.VERSION="2.0.0",c.DEFAULTS={loadingText:"loading...",disabledClassName:"fn-disabled",spinner:void 0},c.prototype.setState=function(c,d){var e=this.$element,f="disabled",g=e.data(),h=this.options,i=e.is("input")?"val":"html",j="fn-btn-"+c+" "+h.disabledClassName;c+="Text",h.resetText||(h.resetText=e[i]()),b.support.animation&&h.spinner&&"html"===i&&!this.hasSpinner&&(h.loadingText='<span class="fn-icon-'+h.spinner+' fn-icon-spin"></span>'+h.loadingText,this.hasSpinner=!0),d=d||(void 0===g[c]?h[c]:g[c]),e[i](d),setTimeout(a.proxy(function(){"loadingText"===c?(e.addClass(j).attr(f,f),this.isLoading=!0):this.isLoading&&(e.removeClass(j).removeAttr(f),this.isLoading=!1)},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element,c=this.$element.parent('[class*="fn-btn-group"]');if(c.length){var d=this.$element.find("input");"radio"==d.prop("type")&&(d.prop("checked")&&b.hasClass("fn-active")?a=!1:c.find(".fn-active").removeClass("fn-active")),a&&d.prop("checked",!b.hasClass("fn-active")).trigger("change")}a&&(b.toggleClass("fn-active"),b.hasClass("fn-active")||b.blur())},b.plugin("button",c,{dataOptions:"data-fn-loading",methodCall:function(a,b){"toggle"===a[0]?b.toggle():"string"==typeof a[0]&&b.setState.apply(b,a)}}),a(document).on("click.button.data-api","[data-fn-button]",function(b){b.preventDefault();var c=a(b.target);c.hasClass("fn-btn")||(c=c.closest(".fn-btn")),c.button("toggle")}),b.ready(function(b){a("[data-fn-loading]",b).button()}),c}(jQuery,a),e=function(a,b){function c(c){return this.each(function(){var e=a(this),f=e.data("fnui.collapse"),g=a.extend({},d.DEFAULTS,b.utils.parseOptions(e.attr("data-fn-collapse")),"object"==typeof c&&c);!f&&g.toggle&&"open"===c&&(c=!c),f||e.data("fnui.collapse",f=new d(this,g)),"string"==typeof c&&f[c]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};return d.VERSION="2.0.0",d.DEFAULTS={toggle:!0},d.prototype.open=function(){if(!this.transitioning&&!this.$element.hasClass("fn-in")){var d=a.Event("open.collapse.fnui");if(this.$element.trigger(d),!d.isDefaultPrevented()){var e=this.$parent&&this.$parent.find("> .fn-panel > .fn-in");if(e&&e.length){var f=e.data("fnui.collapse");if(f&&f.transitioning)return;c.call(e,"close"),f||e.data("fnui.collapse",null)}this.$element.removeClass("fn-collapse").addClass("fn-collapsing").height(0),this.transitioning=1;var g=function(){this.$element.removeClass("fn-collapsing").addClass("fn-collapse fn-in").height("").trigger("opened.collapse.fnui"),this.transitioning=0};if(!b.support.transition)return g.call(this);var h=this.$element[0].scrollHeight;this.$element.one("fnTransitionEnd",a.proxy(g,this)).emulateTransitionEnd(300).css({height:h})}}},d.prototype.close=function(){if(!this.transitioning&&this.$element.hasClass("fn-in")){var c=a.Event("close.collapse.fnui");if(this.$element.trigger(c),!c.isDefaultPrevented()){this.$element.height(this.$element.height()),this.$element.addClass("fn-collapsing").removeClass("fn-collapse fn-in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("closed.collapse.fnui").removeClass("fn-collapsing").addClass("fn-collapse")};return b.support.transition?void this.$element.height(0).one("fnTransitionEnd",a.proxy(d,this)).emulateTransitionEnd(300):d.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("fn-in")?"close":"open"]()},a.fn.collapse=c,a(document).on("click.collapse.fnui.data-api","[data-fn-collapse]",function(d){var e,f=a(this),g=b.utils.parseOptions(f.attr("data-fn-collapse")),h=g.target||d.preventDefault()||(e=f.attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,""),i=a(h),j=i.data("fnui.collapse"),k=j?"toggle":g,l=g.parent,m=l&&a(l);j&&j.transitioning||(m&&m.find("[data-fn-collapse]").not(f).addClass("fn-collapsed"),f[i.hasClass("fn-in")?"addClass":"removeClass"]("fn-collapsed")),c.call(i,k)}),b.collapse=d}(jQuery,a),f=function(a,b){var c=a(document),d=a(document.body),e=function(b,c){if(this.$element=a(b),this.options=a.extend({},e.DEFAULTS,c),this.format=f.parseFormat(this.options.format),this.$element.data("date",this.options.date),this.language=this.getLocale(this.options.locale),this.theme=this.options.theme,this.$picker=a(f.template).appendTo("body").on({click:a.proxy(this.click,this)}),this.isInput=this.$element.is("input"),this.component=this.$element.is(".fn-datepicker-date")?this.$element.find(".fn-datepicker-add-on"):!1,this.isInput?this.$element.on({"click.datepicker":a.proxy(this.open,this),"keyup.datepicker":a.proxy(this.update,this)}):this.component?this.component.on("click.datepicker",a.proxy(this.open,this)):this.$element.on("click.datepicker",a.proxy(this.open,this)),this.minViewMode=this.options.minViewMode,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=this.options.viewMode,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=(this.options.weekStart||e.locales[this.language].weekStart||0)%7,this.weekEnd=(this.weekStart+6)%7,this.onRender=this.options.onRender,this.setTheme(),this.fillDow(),this.fillMonths(),this.update(),this.showMode()};e.VERSION="2.0.0",e.DEFAULTS={locale:"zh_CN",format:"yyyy-mm-dd",weekStart:void 0,viewMode:0,minViewMode:0,date:"",theme:"",autoClose:1,onRender:function(a){return""}},e.prototype.open=function(b){this.$picker.show(),this.height=this.component?this.component.outerHeight():this.$element.outerHeight(),this.place(),a(window).on("resize.datepicker",a.proxy(this.place,this)),b&&(b.stopPropagation(),b.preventDefault());var d=this;c.on("mousedown.datapicker touchstart.datepicker",function(b){0===a(b.target).closest(".fn-datepicker").length&&d.close()}),this.$element.trigger({type:"open.datepicker",date:this.date})},e.prototype.close=function(){this.$picker.hide(),a(window).off("resize.datepicker",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||a(document).off("mousedown.datapicker touchstart.datepicker",this.close),this.$element.trigger({type:"close.datepicker",date:this.date})},e.prototype.set=function(){var a,b=f.formatDate(this.date,this.format);this.isInput?a=this.$element.attr("value",b):(this.component&&(a=this.$element.find("input").attr("value",b)),this.$element.data("date",b)),a.trigger("change")},e.prototype.setValue=function(a){"string"==typeof a?this.date=f.parseDate(a,this.format):this.date=new Date(a),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},e.prototype.place=function(){var a=this.component?this.component.offset():this.$element.offset(),b=this.component?this.component.width():this.$element.width(),c=a.top+this.height,e=a.left,f=d.width()-a.left-b,g=this.isOutView();if(this.$picker.removeClass("fn-datepicker-right"),this.$picker.removeClass("fn-datepicker-up"),d.width()>640){if(g.outRight)return this.$picker.addClass("fn-datepicker-right"),void this.$picker.css({top:c,left:"auto",right:f});g.outBottom&&(this.$picker.addClass("fn-datepicker-up"),c=a.top-this.$picker.outerHeight(!0))}else e=0;this.$picker.css({top:c,left:e})},e.prototype.update=function(a){this.date=f.parseDate("string"==typeof a?a:this.isInput?this.$element.prop("value"):this.$element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},e.prototype.fillDow=function(){for(var a=this.weekStart,b="<tr>";a<this.weekStart+7;)b+='<th class="fn-datepicker-dow">'+e.locales[this.language].daysMin[a++%7]+"</th>";b+="</tr>",this.$picker.find(".fn-datepicker-days thead").append(b)},e.prototype.fillMonths=function(){for(var a="",b=0;12>b;)a+='<span class="fn-datepicker-month">'+e.locales[this.language].monthsShort[b++]+"</span>";this.$picker.find(".fn-datepicker-months td").append(a)},e.prototype.fill=function(){var a=new Date(this.viewDate),b=a.getFullYear(),c=a.getMonth(),d=this.date.valueOf(),g=new Date(b,c-1,28,0,0,0,0),h=f.getDaysInMonth(g.getFullYear(),g.getMonth()),i=this.$picker.find(".fn-datepicker-days .fn-datepicker-select");"zh_CN"===this.language?i.text(b+e.locales[this.language].year[0]+" "+e.locales[this.language].months[c]):i.text(e.locales[this.language].months[c]+" "+b),g.setDate(h),g.setDate(h-(g.getDay()-this.weekStart+7)%7);var j=new Date(g);j.setDate(j.getDate()+42),j=j.valueOf();for(var k,l,m,n=[];g.valueOf()<j;)g.getDay()===this.weekStart&&n.push("<tr>"),k=this.onRender(g,0),l=g.getFullYear(),m=g.getMonth(),c>m&&l===b||b>l?k+=" fn-datepicker-old":(m>c&&l===b||l>b)&&(k+=" fn-datepicker-new"),g.valueOf()===d&&(k+=" fn-active"),n.push('<td class="fn-datepicker-day '+k+'">'+g.getDate()+"</td>"),g.getDay()===this.weekEnd&&n.push("</tr>"),g.setDate(g.getDate()+1);this.$picker.find(".fn-datepicker-days tbody").empty().append(n.join(""));var o=this.date.getFullYear(),p=this.$picker.find(".fn-datepicker-months").find(".fn-datepicker-select").text(b);p=p.end().find("span").removeClass("fn-active").removeClass("fn-disabled");for(var q=0;12>q;)this.onRender(a.setFullYear(b,q),1)&&p.eq(q).addClass("fn-disabled"),q++;o===b&&p.eq(this.date.getMonth()).removeClass("fn-disabled").addClass("fn-active"),n="",b=10*parseInt(b/10,10);var r,s=this.$picker.find(".fn-datepicker-years").find(".fn-datepicker-select").text(b+"-"+(b+9)).end().find("td"),t=new Date(this.viewDate);b-=1;for(var u=-1;11>u;u++)r=this.onRender(t.setFullYear(b),2),n+='<span class="'+r+(-1===u||10===u?"fn-datepicker-old":"")+(o===b?"fn-active":"")+'">'+b+"</span>",b+=1;s.html(n)},e.prototype.click=function(b){b.stopPropagation(),b.preventDefault();var c,d,e=this.$picker.find(".fn-datepicker-days").find(".fn-active"),g=this.$picker.find(".fn-datepicker-months"),h=g.find(".fn-active").index(),i=a(b.target).closest("span, td, th");if(1===i.length)switch(i[0].nodeName.toLowerCase()){case"th":switch(i[0].className){case"fn-datepicker-switch":this.showMode(1);break;case"fn-datepicker-prev":case"fn-datepicker-next":this.viewDate["set"+f.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+f.modes[this.viewMode].navFnc].call(this.viewDate)+f.modes[this.viewMode].navStep*("fn-datepicker-prev"===i[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(i.is(".fn-disabled"))return;i.is(".fn-datepicker-month")?(c=i.parent().find("span").index(i),i.is(".fn-active")?this.viewDate.setMonth(c,e.text()):this.viewDate.setMonth(c)):(d=parseInt(i.text(),10)||0,i.is(".fn-active")?this.viewDate.setFullYear(d,h,e.text()):this.viewDate.setFullYear(d)),0!==this.viewMode&&(this.date=new Date(this.viewDate),this.$element.trigger({type:"changeDate.datepicker",date:this.date,viewMode:f.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(i.is(".fn-datepicker-day")&&!i.is(".fn-disabled")){var j=parseInt(i.text(),10)||1;c=this.viewDate.getMonth(),i.is(".fn-datepicker-old")?c-=1:i.is(".fn-datepicker-new")&&(c+=1),d=this.viewDate.getFullYear(),this.date=new Date(d,c,j,0,0,0,0),this.viewDate=new Date(d,c,Math.min(28,j),0,0,0,0),this.fill(),this.set(),this.$element.trigger({type:"changeDate.datepicker",date:this.date,viewMode:f.modes[this.viewMode].clsName}),this.options.autoClose&&this.close()}}},e.prototype.mousedown=function(a){a.stopPropagation(),a.preventDefault()},e.prototype.showMode=function(a){a&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+a))),this.$picker.find(">div").hide().filter(".fn-datepicker-"+f.modes[this.viewMode].clsName).show()},e.prototype.isOutView=function(){var a=this.component?this.component.offset():this.$element.offset(),b={outRight:!1,outBottom:!1},e=this.$picker,f=a.left+e.outerWidth(!0),g=a.top+e.outerHeight(!0)+this.$element.innerHeight();return f>d.width()&&(b.outRight=!0),g>c.height()&&(b.outBottom=!0),b},e.prototype.getLocale=function(a){return a||(a=navigator.language&&navigator.language.split("-"),a[1]=a[1].toUpperCase(),a=a.join("_")),e.locales[a]||(a="en_US"),a},e.prototype.setTheme=function(){this.theme&&this.$picker.addClass("fn-datepicker-"+this.theme)},e.locales={en_US:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekStart:0},zh_CN:{days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],daysShort:["周日","周一","周二","周三","周四","周五","周六"],daysMin:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],weekStart:1,year:["年"]}};var f={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return a%4===0&&a%100!==0||a%400===0},getDaysInMonth:function(a,b){return[31,f.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},parseFormat:function(a){var b=a.match(/[.\/\-\s].*?/),c=a.split(/\W+/);if(!b||!c||0===c.length)throw new Error("Invalid date format.");return{separator:b,parts:c}},parseDate:function(a,b){var c,d=a.split(b.separator);if(a=new Date,a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),d.length===b.parts.length){for(var e=a.getFullYear(),f=a.getDate(),g=a.getMonth(),h=0,i=b.parts.length;i>h;h++)switch(c=parseInt(d[h],10)||1,b.parts[h]){case"dd":case"d":f=c,a.setDate(c);break;case"mm":case"m":g=c-1,a.setMonth(c-1);break;case"yy":e=2e3+c,a.setFullYear(2e3+c);break;case"yyyy":e=c,a.setFullYear(c)}a=new Date(e,g,f,0,0,0)}return a},formatDate:function(a,b){var c={d:a.getDate(),m:a.getMonth()+1,yy:a.getFullYear().toString().substring(2),yyyy:a.getFullYear()},d=[];c.dd=(c.d<10?"0":"")+c.d,c.mm=(c.m<10?"0":"")+c.m;for(var e=0,f=b.parts.length;f>e;e++)d.push(c[b.parts[e]]);return d.join(b.separator)},headTemplate:'<thead><tr class="fn-datepicker-header"><th class="fn-datepicker-prev"><i class="fn-datepicker-prev-icon"></i></th><th colspan="5" class="fn-datepicker-switch"><div class="fn-datepicker-select"></div></th><th class="fn-datepicker-next"><i class="fn-datepicker-next-icon"></i></th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};return f.template='<div class="fn-datepicker fn-datepicker-dropdown"><div class="fn-datepicker-caret"></div><div class="fn-datepicker-days"><table class="fn-datepicker-table">'+f.headTemplate+'<tbody></tbody></table></div><div class="fn-datepicker-months"><table class="fn-datepicker-table">'+f.headTemplate+f.contTemplate+'</table></div><div class="fn-datepicker-years"><table class="fn-datepicker-table">'+f.headTemplate+f.contTemplate+"</table></div></div>",b.plugin("datepicker",e),b.ready(function(b){a("[data-fn-datepicker]").datepicker()}),e}(jQuery,a),g=function(a,b){var c=b.support.animation,d=function(b,c){this.options=a.extend({},d.DEFAULTS,c),c=this.options,this.$element=a(b),this.$toggle=this.$element.find(c.selector.toggle),this.$dropdown=this.$element.find(c.selector.dropdown),this.$boundary=c.boundary===window?a(window):this.$element.closest(c.boundary),this.$justify=c.justify&&a(c.justify).length&&a(c.justify)||void 0,!this.$boundary.length&&(this.$boundary=a(window)),this.active=!!this.$element.hasClass("fn-active"),this.animating=null,this.events()};return d.VERSION="2.0.0",d.DEFAULTS={animation:"fn-animation-slide-top-fixed",boundary:window,justify:void 0,selector:{dropdown:".fn-dropdown-content",toggle:".fn-dropdown-toggle"},trigger:"click"},d.prototype.toggle=function(){this.clear(),this.animating||this[this.active?"close":"open"]()},d.prototype.open=function(b){var d=this.$toggle,e=this.$element,f=this.$dropdown;if(!d.is(".fn-disabled, :disabled")&&!this.active){e.trigger("open.dropdown").addClass("fn-active"),d.trigger("focus"),this.checkDimensions();var g=a.proxy(function(){e.trigger("opened.dropdown"),this.active=!0,this.animating=0},this);c?(this.animating=1,f.addClass(this.options.animation).one("fnAnimationEnd",a.proxy(function(){g(),f.removeClass(this.options.animation)},this)).emulateTransitionEnd(300)):g()}},d.prototype.close=function(){if(this.active){var b="fn-dropdown-animation",d=this.$element,e=this.$dropdown;d.trigger("close.dropdown");var f=a.proxy(function(){d.removeClass("fn-active").trigger("closed.dropdown"),this.active=!1,this.animating=0,this.$toggle.blur()},this);c?(e.removeClass(this.options.animation),e.addClass(b),this.animating=1,e.one(c.end+".close.dropdown",function(){e.removeClass(b),f()})):f()}},d.prototype.enable=function(){this.$toggle.prop("disabled",!1)},d.prototype.disable=function(){this.$toggle.prop("disabled",!0)},d.prototype.checkDimensions=function(){if(this.$dropdown.length){var b=this.$dropdown,c=b.offset(),d=b.outerWidth(),e=this.$boundary.width(),f=a.isWindow(this.boundary)&&this.$boundary.offset()?this.$boundary.offset().left:0;this.$justify&&b.css({"min-width":this.$justify.css("width")}),d+(c.left-f)>e&&this.$element.addClass("fn-dropdown-flip")}},d.prototype.clear=function(){a("[data-fn-dropdown]").not(this.$element).each(function(){var b=a(this).data("fnui.dropdown");b&&b.close()})},d.prototype.events=function(){var b="dropdown",c=this.$toggle;c.on("click."+b,a.proxy(function(a){a.preventDefault(),this.toggle()},this)),a(document).on("keydown.dropdown",a.proxy(function(a){27===a.keyCode&&this.active&&this.close()},this)).on("click.outer.dropdown",a.proxy(function(a){!this.active||this.$element[0]!==a.target&&this.$element.find(a.target).length||this.close()},this))},b.plugin("dropdown",d),b.ready(function(b){a("[data-fn-dropdown]",b).dropdown()}),a(document).on("click.dropdown.data-api",".fn-dropdown form",function(a){a.stopPropagation()}),d}(jQuery,a),h=function(a,b){function c(b,c){return this.each(function(){var e=a(this),f=e.data("fnui.modal"),g="object"==typeof b&&b;f||e.data("fnui.modal",f=new d(this,g)),"string"==typeof b?f[b]&&f[b](c):f.toggle(b&&b.relatedTarget||void 0)})}var d=function(c,e){this.options=a.extend({},d.DEFAULTS,e||{}),this.$element=a(c),this.$dialog=this.$element.find(".fn-modal-dialog"),this.$element.attr("id")||this.$element.attr("id",b.utils.generateGUID("fn-modal")),this.isPopup=this.$element.hasClass("fn-popup"),this.isActions=this.$element.hasClass("fn-modal-actions"),this.isPrompt=this.$element.hasClass("fn-modal-prompt"),this.isLoading=this.$element.hasClass("fn-modal-loading"),this.active=this.transitioning=this.relatedTarget=null,this.dimmer=this.options.dimmer?b.dimmer:{open:function(){},close:function(){}},this.events()};return d.DEFAULTS={className:{active:"fn-modal-active",out:"fn-modal-out"},selector:{modal:".fn-modal",active:".fn-modal-active"},closeViaDimmer:!0,cancelable:!0,onConfirm:function(){},onCancel:function(){},closeOnCancel:!0,closeOnConfirm:!0,dimmer:!0,height:void 0,width:void 0,duration:300,transitionEnd:b.support.transition&&b.support.transition.end+".modal"},d.prototype.toggle=function(a){return this.active?this.close():this.open(a)},d.prototype.open=function(c){var d=this.$element,e=this.options,f=this.isPopup,g=e.width,h=e.height,i={};if(!this.active&&this.$element.length){c&&(this.relatedTarget=c),this.transitioning&&(clearTimeout(d.transitionEndTimmer),d.transitionEndTimmer=null,d.trigger(e.transitionEnd).off(e.transitionEnd)),f&&this.$element.show(),this.active=!0,d.trigger(a.Event("open.modal",{relatedTarget:c})),this.dimmer.open(d),d.show(),f||this.isActions||(g&&(g=parseInt(g,10),i.width=g+"px",i.marginLeft=-parseInt(g/2)+"px"),h?(h=parseInt(h,10),i.marginTop=-parseInt(h/2)+"px",this.$dialog.css({height:h+"px"})):i.marginTop=-parseInt(d.height()/2,10)+"px",d.css(i)),d.removeClass(e.className.out).addClass(e.className.active),this.transitioning=1;var j=function(){d.trigger(a.Event("opened.modal",{relatedTarget:c})),this.transitioning=0,this.isPrompt&&this.$dialog.find("input").eq(0).focus()};return b.support.transition?void d.one(e.transitionEnd,a.proxy(j,this)).emulateTransitionEnd(e.duration):j.call(this)}},d.prototype.close=function(c){if(this.active){var d=this.$element,e=this.options,f=this.isPopup;this.transitioning&&(clearTimeout(d.transitionEndTimmer),d.transitionEndTimmer=null,d.trigger(e.transitionEnd).off(e.transitionEnd),this.dimmer.close(d,!0)),this.$element.trigger(a.Event("close.modal",{relatedTarget:c})),this.transitioning=1;var g=function(){d.trigger("closed.modal"),f&&d.removeClass(e.className.out),d.hide(),this.transitioning=0,this.dimmer.close(d,!1),this.active=!1};return d.removeClass(e.className.active).addClass(e.className.out),b.support.transition?void d.one(e.transitionEnd,a.proxy(g,this)).emulateTransitionEnd(e.duration):g.call(this)}},d.prototype.events=function(){var b=this.options,c=this,d=this.$element,e=d.find(".fn-modal-prompt-input"),f=d.find("[data-fn-modal-confirm]"),g=d.find("[data-fn-modal-cancel]"),h=function(){var b=[];return e.each(function(){b.push(a(this).val())}),0===b.length?void 0:1===b.length?b[0]:b};this.options.cancelable&&d.on("keyup.modal",function(a){c.active&&27===a.which&&(d.trigger("cancel.modal"),c.close())}),this.options.dimmer&&this.options.closeViaDimmer&&!this.isLoading&&this.dimmer.$element.on("click.dimmer.modal",function(a){c.close()}),d.on("click.close.modal","[data-fn-modal-close], .fn-modal-btn",function(d){d.preventDefault();var e=a(this);e.is(f)?b.closeOnConfirm&&c.close():e.is(g)?b.closeOnCancel&&c.close():c.close()}),f.on("click.confirm.modal",function(){d.trigger(a.Event("confirm.modal",{trigger:this}))}),g.on("click.cancel.modal",function(){d.trigger(a.Event("cancel.modal",{trigger:this}))}),d.on("confirm.modal",function(a){a.data=h(),c.options.onConfirm.call(c,a)}).on("cancel.modal",function(a){a.data=h(),c.options.onCancel.call(c,a)})},a.fn.modal=c,a(document).on("click.modal.data-api","[data-fn-modal]",function(){var d=a(this),e=b.utils.parseOptions(d.attr("data-fn-modal")),f=a(e.target||this.href&&this.href.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("fnui.modal")?"toggle":e;c.call(f,g,this)}),d}(jQuery,a),i=function(a){function b(a,b,c){return setTimeout(h(a,c),b)}function c(a,b,c){return Array.isArray(a)?(d(a,c[b],c),!0):!1}function d(a,b,c){var d;if(a)if(a.forEach)a.forEach(b,c);else if(void 0!==a.length)for(d=0;d<a.length;)b.call(c,a[d],d,a),d++;else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function e(a,b,c){for(var d=Object.keys(b),e=0;e<d.length;)(!c||c&&void 0===a[d[e]])&&(a[d[e]]=b[d[e]]),e++;return a}function f(a,b){return e(a,b,!0)}function g(a,b,c){var d,f=b.prototype;d=a.prototype=Object.create(f),d.constructor=a,d._super=f,c&&e(d,c)}function h(a,b){return function(){return a.apply(b,arguments)}}function i(a,b){return typeof a==ha?a.apply(b?b[0]||void 0:void 0,b):a}function j(a,b){return void 0===a?b:a}function k(a,b,c){d(o(b),function(b){a.addEventListener(b,c,!1)})}function l(a,b,c){d(o(b),function(b){a.removeEventListener(b,c,!1)})}function m(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function n(a,b){return a.indexOf(b)>-1}function o(a){return a.trim().split(/\s+/g)}function p(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function q(a){return Array.prototype.slice.call(a,0)}function r(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];p(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function s(a,b){for(var c,d,e=b[0].toUpperCase()+b.slice(1),f=0;f<fa.length;){if(c=fa[f],d=c?c+e:b,d in a)return d;f++}}function t(){return la++}function u(a){var b=a.ownerDocument;return b.defaultView||b.parentWindow}function v(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){i(a.options.enable,[a])&&c.handler(b)},this.init()}function w(a){var b,c=a.options.inputClass;return new(b=c?c:oa?K:pa?N:na?P:J)(a,x)}function x(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&va&&d-e===0,g=b&(xa|ya)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,y(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function y(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=B(b)),e>1&&!c.firstMultiple?c.firstMultiple=B(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=C(d);b.timeStamp=ka(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=G(h,i),b.distance=F(h,i),z(c,b),b.offsetDirection=E(b.deltaX,b.deltaY),b.scale=g?I(g.pointers,d):1,b.rotation=g?H(g.pointers,d):0,A(c,b);var j=a.element;m(b.srcEvent.target,j)&&(j=b.srcEvent.target),b.target=j}function z(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};b.eventType!==va&&f.eventType!==xa||(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function A(a,b){var c,d,e,f,g=a.lastInterval||b,h=b.timeStamp-g.timeStamp;if(b.eventType!=ya&&(h>ua||void 0===g.velocity)){var i=g.deltaX-b.deltaX,j=g.deltaY-b.deltaY,k=D(h,i,j);d=k.x,e=k.y,c=ja(k.x)>ja(k.y)?k.x:k.y,f=E(i,j),a.lastInterval=b}else c=g.velocity,d=g.velocityX,e=g.velocityY,f=g.direction;b.velocity=c,b.velocityX=d,b.velocityY=e,b.direction=f}function B(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={
clientX:ia(a.pointers[c].clientX),clientY:ia(a.pointers[c].clientY)},c++;return{timeStamp:ka(),pointers:b,center:C(b),deltaX:a.deltaX,deltaY:a.deltaY}}function C(a){var b=a.length;if(1===b)return{x:ia(a[0].clientX),y:ia(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:ia(c/b),y:ia(d/b)}}function D(a,b,c){return{x:b/a||0,y:c/a||0}}function E(a,b){return a===b?za:ja(a)>=ja(b)?a>0?Aa:Ba:b>0?Ca:Da}function F(a,b,c){c||(c=Ha);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function G(a,b,c){c||(c=Ha);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function H(a,b){return G(b[1],b[0],Ia)-G(a[1],a[0],Ia)}function I(a,b){return F(b[0],b[1],Ia)/F(a[0],a[1],Ia)}function J(){this.evEl=Ka,this.evWin=La,this.allow=!0,this.pressed=!1,v.apply(this,arguments)}function K(){this.evEl=Oa,this.evWin=Pa,v.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function L(){this.evTarget=Ra,this.evWin=Sa,this.started=!1,v.apply(this,arguments)}function M(a,b){var c=q(a.touches),d=q(a.changedTouches);return b&(xa|ya)&&(c=r(c.concat(d),"identifier",!0)),[c,d]}function N(){this.evTarget=Ua,this.targetIds={},v.apply(this,arguments)}function O(a,b){var c=q(a.touches),d=this.targetIds;if(b&(va|wa)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=q(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return m(a.target,i)}),b===va)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(xa|ya)&&delete d[g[e].identifier],e++;return h.length?[r(f.concat(h),"identifier",!0),h]:void 0}function P(){v.apply(this,arguments);var a=h(this.handler,this);this.touch=new N(this.manager,a),this.mouse=new J(this.manager,a)}function Q(a,b){this.manager=a,this.set(b)}function R(a){if(n(a,$a))return $a;var b=n(a,_a),c=n(a,ab);return b&&c?_a+" "+ab:b||c?b?_a:ab:n(a,Za)?Za:Ya}function S(a){this.id=t(),this.manager=null,this.options=f(a||{},this.defaults),this.options.enable=j(this.options.enable,!0),this.state=bb,this.simultaneous={},this.requireFail=[]}function T(a){return a&gb?"cancel":a&eb?"end":a&db?"move":a&cb?"start":""}function U(a){return a==Da?"down":a==Ca?"up":a==Aa?"left":a==Ba?"right":""}function V(a,b){var c=b.manager;return c?c.get(a):a}function W(){S.apply(this,arguments)}function X(){W.apply(this,arguments),this.pX=null,this.pY=null}function Y(){W.apply(this,arguments)}function Z(){S.apply(this,arguments),this._timer=null,this._input=null}function $(){W.apply(this,arguments)}function _(){W.apply(this,arguments)}function aa(){S.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ba(a,b){return b=b||{},b.recognizers=j(b.recognizers,ba.defaults.preset),new ca(a,b)}function ca(a,b){b=b||{},this.options=f(b,ba.defaults),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.element=a,this.input=w(this),this.touchAction=new Q(this,this.options.touchAction),da(this,!0),d(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function da(a,b){var c=a.element;d(a.options.cssProps,function(a,d){c.style[s(c.style,d)]=b?a:""})}function ea(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0),c.gesture=b,b.target.dispatchEvent(c)}var fa=["","webkit","moz","MS","ms","o"],ga=document.createElement("div"),ha="function",ia=Math.round,ja=Math.abs,ka=Date.now,la=1,ma=/mobile|tablet|ip(ad|hone|od)|android/i,na="ontouchstart"in window,oa=void 0!==s(window,"PointerEvent"),pa=na&&ma.test(navigator.userAgent),qa="touch",ra="pen",sa="mouse",ta="kinect",ua=25,va=1,wa=2,xa=4,ya=8,za=1,Aa=2,Ba=4,Ca=8,Da=16,Ea=Aa|Ba,Fa=Ca|Da,Ga=Ea|Fa,Ha=["x","y"],Ia=["clientX","clientY"];v.prototype={handler:function(){},init:function(){this.evEl&&k(this.element,this.evEl,this.domHandler),this.evTarget&&k(this.target,this.evTarget,this.domHandler),this.evWin&&k(u(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&l(this.element,this.evEl,this.domHandler),this.evTarget&&l(this.target,this.evTarget,this.domHandler),this.evWin&&l(u(this.element),this.evWin,this.domHandler)}};var Ja={mousedown:va,mousemove:wa,mouseup:xa},Ka="mousedown",La="mousemove mouseup";g(J,v,{handler:function(a){var b=Ja[a.type];b&va&&0===a.button&&(this.pressed=!0),b&wa&&1!==a.which&&(b=xa),this.pressed&&this.allow&&(b&xa&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:sa,srcEvent:a}))}});var Ma={pointerdown:va,pointermove:wa,pointerup:xa,pointercancel:ya,pointerout:ya},Na={2:qa,3:ra,4:sa,5:ta},Oa="pointerdown",Pa="pointermove pointerup pointercancel";window.MSPointerEvent&&(Oa="MSPointerDown",Pa="MSPointerMove MSPointerUp MSPointerCancel"),g(K,v,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Ma[d],f=Na[a.pointerType]||a.pointerType,g=f==qa,h=p(b,a.pointerId,"pointerId");e&va&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(xa|ya)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var Qa={touchstart:va,touchmove:wa,touchend:xa,touchcancel:ya},Ra="touchstart",Sa="touchstart touchmove touchend touchcancel";g(L,v,{handler:function(a){var b=Qa[a.type];if(b===va&&(this.started=!0),this.started){var c=M.call(this,a,b);b&(xa|ya)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:qa,srcEvent:a})}}});var Ta={touchstart:va,touchmove:wa,touchend:xa,touchcancel:ya},Ua="touchstart touchmove touchend touchcancel";g(N,v,{handler:function(a){var b=Ta[a.type],c=O.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:qa,srcEvent:a})}}),g(P,v,{handler:function(a,b,c){var d=c.pointerType==qa,e=c.pointerType==sa;if(d)this.mouse.allow=!1;else if(e&&!this.mouse.allow)return;b&(xa|ya)&&(this.mouse.allow=!0),this.callback(a,b,c)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Va=s(ga.style,"touchAction"),Wa=void 0!==Va,Xa="compute",Ya="auto",Za="manipulation",$a="none",_a="pan-x",ab="pan-y";Q.prototype={set:function(a){a==Xa&&(a=this.compute()),Wa&&(this.manager.element.style[Va]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return d(this.manager.recognizers,function(b){i(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),R(a.join(" "))},preventDefaults:function(a){if(!Wa){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=n(d,$a),f=n(d,ab),g=n(d,_a);return e||f&&c&Ea||g&&c&Fa?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var bb=1,cb=2,db=4,eb=8,fb=eb,gb=16,hb=32;S.prototype={defaults:{},set:function(a){return e(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(c(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=V(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return c(a,"dropRecognizeWith",this)?this:(a=V(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(c(a,"requireFailure",this))return this;var b=this.requireFail;return a=V(a,this),-1===p(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(c(a,"dropRequireFailure",this))return this;a=V(a,this);var b=p(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(c.options.event+(b?T(d):""),a)}var c=this,d=this.state;eb>d&&b(!0),b(),d>=eb&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=hb)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(hb|bb)))return!1;a++}return!0},recognize:function(a){var b=e({},a);return i(this.options.enable,[this,b])?(this.state&(fb|gb|hb)&&(this.state=bb),this.state=this.process(b),void(this.state&(cb|db|eb|gb)&&this.tryEmit(b))):(this.reset(),void(this.state=hb))},process:function(a){},getTouchAction:function(){},reset:function(){}},g(W,S,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(cb|db),e=this.attrTest(a);return d&&(c&ya||!e)?b|gb:d||e?c&xa?b|eb:b&cb?b|db:cb:hb}}),g(X,W,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ga},getTouchAction:function(){var a=this.options.direction,b=[];return a&Ea&&b.push(ab),a&Fa&&b.push(_a),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Ea?(e=0===f?za:0>f?Aa:Ba,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?za:0>g?Ca:Da,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return W.prototype.attrTest.call(this,a)&&(this.state&cb||!(this.state&cb)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=U(a.direction);b&&this.manager.emit(this.options.event+b,a),this._super.emit.call(this,a)}}),g(Y,W,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[$a]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&cb)},emit:function(a){if(this._super.emit.call(this,a),1!==a.scale){var b=a.scale<1?"in":"out";this.manager.emit(this.options.event+b,a)}}}),g(Z,S,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ya]},process:function(a){var c=this.options,d=a.pointers.length===c.pointers,e=a.distance<c.threshold,f=a.deltaTime>c.time;if(this._input=a,!e||!d||a.eventType&(xa|ya)&&!f)this.reset();else if(a.eventType&va)this.reset(),this._timer=b(function(){this.state=fb,this.tryEmit()},c.time,this);else if(a.eventType&xa)return fb;return hb},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===fb&&(a&&a.eventType&xa?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=ka(),this.manager.emit(this.options.event,this._input)))}}),g($,W,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[$a]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&cb)}}),g(_,W,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:Ea|Fa,pointers:1},getTouchAction:function(){return X.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Ea|Fa)?b=a.velocity:c&Ea?b=a.velocityX:c&Fa&&(b=a.velocityY),this._super.attrTest.call(this,a)&&c&a.direction&&a.distance>this.options.threshold&&ja(b)>this.options.velocity&&a.eventType&xa},emit:function(a){var b=U(a.direction);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),g(aa,S,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[Za]},process:function(a){var c=this.options,d=a.pointers.length===c.pointers,e=a.distance<c.threshold,f=a.deltaTime<c.time;if(this.reset(),a.eventType&va&&0===this.count)return this.failTimeout();if(e&&f&&d){if(a.eventType!=xa)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<c.interval:!0,h=!this.pCenter||F(this.pCenter,a.center)<c.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%c.taps;if(0===i)return this.hasRequireFailures()?(this._timer=b(function(){this.state=fb,this.tryEmit()},c.interval,this),cb):fb}return hb},failTimeout:function(){return this._timer=b(function(){this.state=hb},this.options.interval,this),hb},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==fb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ba.VERSION="2.0.4",ba.defaults={domEvents:!1,touchAction:Xa,enable:!0,inputTarget:null,inputClass:null,preset:[[$,{enable:!1}],[Y,{enable:!1},["rotate"]],[_,{direction:Ea}],[X,{direction:Ea},["swipe"]],[aa],[aa,{event:"doubletap",taps:2},["tap"]],[Z]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ib=1,jb=2;return ca.prototype={set:function(a){return e(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?jb:ib},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&fb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===jb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(cb|db|eb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof S)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(c(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(c(a,"remove",this))return this;var b=this.recognizers;return a=this.get(a),b.splice(p(b,a),1),this.touchAction.update(),this},on:function(a,b){var c=this.handlers;return d(o(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return d(o(a),function(a){b?c[a].splice(p(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&ea(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&da(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},e(ba,{INPUT_START:va,INPUT_MOVE:wa,INPUT_END:xa,INPUT_CANCEL:ya,STATE_POSSIBLE:bb,STATE_BEGAN:cb,STATE_CHANGED:db,STATE_ENDED:eb,STATE_RECOGNIZED:fb,STATE_CANCELLED:gb,STATE_FAILED:hb,DIRECTION_NONE:za,DIRECTION_LEFT:Aa,DIRECTION_RIGHT:Ba,DIRECTION_UP:Ca,DIRECTION_DOWN:Da,DIRECTION_HORIZONTAL:Ea,DIRECTION_VERTICAL:Fa,DIRECTION_ALL:Ga,Manager:ca,Input:v,TouchAction:Q,TouchInput:N,MouseInput:J,PointerEventInput:K,TouchMouseInput:P,SingleTouchInput:L,Recognizer:S,AttrRecognizer:W,Tap:aa,Pan:X,Swipe:_,Pinch:Y,Rotate:$,Press:Z,on:k,off:l,each:d,merge:f,extend:e,inherit:g,bindFn:h,prefixed:s}),function(a,b){function c(c,d){var e=a(c);e.data("hammer")||e.data("hammer",new b(e[0],d))}a.fn.hammer=function(a){return this.each(function(){c(this,a)})},b.Manager.prototype.emit=function(b){return function(c,d){b.call(this,c,d),a(this.element).trigger({type:c,gesture:d})}}(b.Manager.prototype.emit)}(a,ba),ba}(jQuery),j=function(a,b){function c(b,c){var d=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=a(this),f=e.data("fnui.offcanvas"),h=a.extend({},"object"==typeof b&&b);f||(e.data("fnui.offcanvas",f=new g(this,h)),(!b||"object"==typeof b)&&f.open(c)),"string"==typeof b&&f[b]&&f[b].apply(f,d)})}var d,e=a(window),f=a(document),g=function(b,c){this.$element=a(b),this.options=a.extend({},g.DEFAULTS,c),this.active=null,this.bindEvents()};return g.DEFAULTS={duration:300,effect:"overlay"},g.prototype.open=function(b){var c=this,f=this.$element;if(f.length&&!f.hasClass("fn-active")){var g=this.options.effect,h=a("html"),i=a("body"),j=f.find(".fn-offcanvas-bar").first(),k=j.hasClass("fn-offcanvas-bar-flip")?-1:1;j.addClass("fn-offcanvas-bar-"+g),d={x:window.scrollX,y:window.scrollY},f.addClass("fn-active"),i.css({width:window.innerWidth,height:e.height()}).addClass("fn-offcanvas-page"),"overlay"!==g&&i.css({"margin-left":j.outerWidth()*k}).width(),h.css("margin-top",-1*d.y),setTimeout(function(){j.addClass("fn-offcanvas-bar-active").width()},0),f.trigger("open.offcanvas"),this.active=1,f.on("click.offcanvas",function(b){var d=a(b.target);d.hasClass("fn-offcanvas-bar")||d.parents(".fn-offcanvas-bar").first().length||(b.stopImmediatePropagation(),c.close())}),h.on("keydown.offcanvas",function(a){27===a.keyCode&&c.close()})}},g.prototype.close=function(c){function e(){h.removeClass("fn-offcanvas-page").css({width:"",height:"","margin-left":"","margin-right":""}),i.removeClass("fn-active"),j.removeClass("fn-offcanvas-bar-active"),g.css("margin-top",""),window.scrollTo(d.x,d.y),i.trigger("closed.offcanvas"),f.active=0}var f=this,g=a("html"),h=a("body"),i=this.$element,j=i.find(".fn-offcanvas-bar").first();i.length&&this.active&&i.hasClass("fn-active")&&(i.trigger("close.offcanvas"),b.support.transition?(setTimeout(function(){j.removeClass("fn-offcanvas-bar-active")},0),h.css("margin-left","").one("fnTransitionEnd",function(){e()}).emulateTransitionEnd(this.options.duration)):e(),i.off("click.offcanvas"),g.off(".offcanvas"))},g.prototype.bindEvents=function(){var a=this;return f.on("click.offcanvas",'[data-fn-dismiss="offcanvas"]',function(b){b.preventDefault(),a.close()}),e.on("resize.offcanvas orientationchange.offcanvas",function(){a.active&&a.close()}),this.$element.hammer().on("swipeleft swipeleft",function(b){b.preventDefault(),a.close()}),this},a.fn.offCanvas=c,f.on("click.offcanvas","[data-fn-offcanvas]",function(d){d.preventDefault();var e=a(this),f=b.utils.parseOptions(e.data("fn-offcanvas")),g=a(f.target||this.href&&this.href.replace(/.*(?=#[^\s]+$)/,"")),h=g.data("fnui.offcanvas")?"open":f;c.call(g,h,this)}),g}(jQuery,a),k=function(a,b){var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$element=a(b),this.active=null,this.$popover=this.options.target&&a(this.options.target)||null,this.init(),this._bindEvents()};return c.DEFAULTS={theme:null,trigger:"click",content:"",open:!1,target:null,tpl:'<div class="fn-popover"><div class="fn-popover-inner"></div><div class="fn-popover-caret"></div></div>'},c.prototype.init=function(){function c(){e.sizePopover()}var d,e=this,f=this.$element;this.options.target||(this.$popover=this.getPopover(),this.setContent()),d=this.$popover,d.appendTo(a("body")),this.sizePopover(),f.on("open.popover",function(){a(window).on("resize.popover",b.utils.debounce(c,50))}),f.on("close.popover",function(){a(window).off("resize.popover",c)}),this.options.open&&this.open()},c.prototype.sizePopover=function(){var b=this.$element,c=this.$popover;if(c&&c.length){var d=c.outerWidth(),e=c.outerHeight(),f=c.find(".fn-popover-caret"),g=f.outerWidth()/2||8,h=e+8,i=b.outerWidth(),j=b.outerHeight(),k=b.offset(),l=b[0].getBoundingClientRect(),m=a(window),n=m.height(),o=m.width(),p=0,q=0,r=0,s=2,t="top";c.css({left:"",top:""}).removeClass("fn-popover-left fn-popover-right fn-popover-top fn-popover-bottom"),h-s<l.top+s?p=k.top-h-s:h<n-l.top-l.height?(t="bottom",p=k.top+j+g+s):(t="middle",p=j/2+k.top-e/2),"top"===t||"bottom"===t?(q=i/2+k.left-d/2,r=q,5>q&&(q=5),q+d>o&&(q=o-d-20),"top"===t&&c.addClass("fn-popover-top"),"bottom"===t&&c.addClass("fn-popover-bottom"),r-=q):"middle"===t&&(q=k.left-d-g,c.addClass("fn-popover-left"),5>q&&(q=k.left+i+g,c.removeClass("fn-popover-left").addClass("fn-popover-right")),q+d>o&&(q=o-d-5,c.removeClass("fn-popover-left").addClass("fn-popover-right"))),c.css({top:p+"px",left:q+"px"})}},c.prototype.toggle=function(){return this[this.active?"close":"open"]()},c.prototype.open=function(){var a=this.$popover;this.$element.trigger("open.popover"),this.sizePopover(),a.show().addClass("fn-active"),this.active=!0},c.prototype.close=function(){var a=this.$popover;this.$element.trigger("close.popover"),a.removeClass("fn-active").trigger("closed.popover").hide(),this.active=!1},c.prototype.getPopover=function(){var c=b.utils.generateGUID("fn-popover"),d=[];return this.options.theme&&a.each(this.options.theme.split(" "),function(b,c){d.push("fn-popover-"+a.trim(c))}),a(this.options.tpl).attr("id",c).addClass(d.join(" "))},c.prototype.setContent=function(a){a=a||this.options.content,this.$popover&&this.$popover.find(".fn-popover-inner").empty().html(a)},c.prototype._bindEvents=function(){for(var b="popover",c=this.options.trigger.split(" "),d=c.length;d--;){var e=c[d];if("click"===e)this.$element.on("click."+b,a.proxy(this.toggle,this));else{var f="hover"==e?"mouseenter":"focusin",g="hover"==e?"mouseleave":"focusout";this.$element.on(f+"."+b,a.proxy(this.open,this)),this.$element.on(g+"."+b,a.proxy(this.close,this))}}},c.prototype.destroy=function(){this.$element.off(".popover").removeData("fnui.popover"),this.$popover.remove()},b.plugin("popover",c),b.ready(function(b){a("[data-fn-popover]",b).popover()}),c}(jQuery,a),l=function(a){var b=function(){function a(a,b,c){return b>a?b:a>c?c:a}function b(a){return 100*(-1+a)}function c(a,c,d){var e;return e="translate3d"===j.positionUsing?{transform:"translate3d("+b(a)+"%,0,0)"}:"translate"===j.positionUsing?{transform:"translate("+b(a)+"%,0)"}:{"margin-left":b(a)+"%"},e.transition="all "+c+"ms "+d,e}function d(a,b){var c="string"==typeof a?a:g(a);return c.indexOf(" "+b+" ")>=0}function e(a,b){var c=g(a),e=c+b;d(c,b)||(a.className=e.substring(1))}function f(a,b){var c,e=g(a);d(a,b)&&(c=e.replace(" "+b+" "," "),a.className=c.substring(1,c.length-1))}function g(a){return(" "+(a.className||"")+" ").replace(/\s+/gi," ")}function h(a){a&&a.parentNode&&a.parentNode.removeChild(a)}var i={};i.version="0.2.0";var j=i.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,parent:"body",barSelector:'[role="nprogress-bar"]',spinnerSelector:'[role="nprogress-spinner"]',template:'<div class="nprogress-bar" role="nprogress-bar"><div class="nprogress-peg"></div></div><div class="nprogress-spinner" role="nprogress-spinner"><div class="nprogress-spinner-icon"></div></div>'};i.configure=function(a){var b,c;for(b in a)c=a[b],void 0!==c&&a.hasOwnProperty(b)&&(j[b]=c);return this},i.status=null,i.set=function(b){var d=i.isStarted();b=a(b,j.minimum,1),i.status=1===b?null:b;var e=i.render(!d),f=e.querySelector(j.barSelector),g=j.speed,h=j.easing;return e.offsetWidth,k(function(a){""===j.positionUsing&&(j.positionUsing=i.getPositioningCSS()),l(f,c(b,g,h)),1===b?(l(e,{transition:"none",opacity:1}),e.offsetWidth,setTimeout(function(){l(e,{transition:"all "+g+"ms linear",opacity:0}),setTimeout(function(){i.remove(),a()},g)},g)):setTimeout(a,g)}),this},i.isStarted=function(){return"number"==typeof i.status},i.start=function(){i.status||i.set(0);var a=function(){setTimeout(function(){i.status&&(i.trickle(),a())},j.trickleSpeed)};return j.trickle&&a(),this},i.done=function(a){return a||i.status?i.inc(.3+.5*Math.random()).set(1):this},i.inc=function(b){var c=i.status;return c?("number"!=typeof b&&(b=(1-c)*a(Math.random()*c,.1,.95)),c=a(c+b,0,.994),i.set(c)):i.start()},i.trickle=function(){return i.inc(Math.random()*j.trickleRate)},function(){var a=0,b=0;i.promise=function(c){return c&&"resolved"!==c.state()?(0===b&&i.start(),a++,b++,c.always(function(){b--,0===b?(a=0,i.done()):i.set((a-b)/a)}),this):this}}(),i.render=function(a){if(i.isRendered())return document.getElementById("nprogress");e(document.documentElement,"nprogress-busy");var c=document.createElement("div");c.id="nprogress",c.innerHTML=j.template;var d,f=c.querySelector(j.barSelector),g=a?"-100":b(i.status||0),k=document.querySelector(j.parent);return l(f,{transition:"all 0 linear",transform:"translate3d("+g+"%,0,0)"}),j.showSpinner||(d=c.querySelector(j.spinnerSelector),d&&h(d)),k!=document.body&&e(k,"nprogress-custom-parent"),k.appendChild(c),c},i.remove=function(){f(document.documentElement,"nprogress-busy"),f(document.querySelector(j.parent),"nprogress-custom-parent");var a=document.getElementById("nprogress");a&&h(a)},i.isRendered=function(){return!!document.getElementById("nprogress")},i.getPositioningCSS=function(){var a=document.body.style,b="WebkitTransform"in a?"Webkit":"MozTransform"in a?"Moz":"msTransform"in a?"ms":"OTransform"in a?"O":"";return b+"Perspective"in a?"translate3d":b+"Transform"in a?"translate":"margin"};var k=function(){function a(){var c=b.shift();c&&c(a)}var b=[];return function(c){b.push(c),1==b.length&&a()}}(),l=function(){function a(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()})}function b(a){var b=document.body.style;if(a in b)return a;for(var c,d=e.length,f=a.charAt(0).toUpperCase()+a.slice(1);d--;)if(c=e[d]+f,c in b)return c;return a}function c(c){return c=a(c),f[c]||(f[c]=b(c))}function d(a,b,d){b=c(b),a.style[b]=d}var e=["Webkit","O","Moz","ms"],f={};return function(a,b){var c,e,f=arguments;if(2==f.length)for(c in b)e=b[c],void 0!==e&&b.hasOwnProperty(c)&&d(a,c,e);else d(a,f[1],f[2])}}();return i}();return $.progress=a.progress=b}(a),m=function(a){var b=function(b,c){this.el=a(b),this.zoomFactor=1,this.lastScale=1,this.offset={x:0,y:0},this.options=a.extend({},this.defaults,c),this.setupMarkup(),this.bindEvents(),this.update(),this.enable()},c=function(a,b){return a+b},d=function(a,b){return a>b-.01&&b+.01>a};b.prototype={defaults:{tapZoomFactor:2,zoomOutFactor:1.3,animationDuration:300,animationInterval:5,maxZoom:5,minZoom:.5,lockDragAxis:!1,use2d:!1,zoomStartEventName:"pz_zoomstart",zoomEndEventName:"pz_zoomend",dragStartEventName:"pz_dragstart",dragEndEventName:"pz_dragend",doubleTapEventName:"pz_doubletap"},handleDragStart:function(a){this.el.trigger(this.options.dragStartEventName),this.stopAnimation(),this.lastDragPosition=!1,this.hasInteraction=!0,this.handleDrag(a)},handleDrag:function(a){if(this.zoomFactor>1){var b=this.getTouches(a)[0];this.drag(b,this.lastDragPosition),this.offset=this.sanitizeOffset(this.offset),this.lastDragPosition=b}},handleDragEnd:function(){this.el.trigger(this.options.dragEndEventName),this.end()},handleZoomStart:function(a){this.el.trigger(this.options.zoomStartEventName),this.stopAnimation(),this.lastScale=1,this.nthZoom=0,this.lastZoomCenter=!1,this.hasInteraction=!0},handleZoom:function(a,b){var c=this.getTouchCenter(this.getTouches(a)),d=b/this.lastScale;this.lastScale=b,this.nthZoom+=1,this.nthZoom>3&&(this.scale(d,c),this.drag(c,this.lastZoomCenter)),this.lastZoomCenter=c},handleZoomEnd:function(){this.el.trigger(this.options.zoomEndEventName),this.end()},handleDoubleTap:function(a){var b=this.getTouches(a)[0],c=this.zoomFactor>1?1:this.options.tapZoomFactor,d=this.zoomFactor,e=function(a){this.scaleTo(d+a*(c-d),b)}.bind(this);this.hasInteraction||(d>c&&(b=this.getCurrentZoomCenter()),this.animate(this.options.animationDuration,this.options.animationInterval,e,this.swing),this.el.trigger(this.options.doubleTapEventName))},sanitizeOffset:function(a){var b=(this.zoomFactor-1)*this.getContainerX(),c=(this.zoomFactor-1)*this.getContainerY(),d=Math.max(b,0),e=Math.max(c,0),f=Math.min(b,0),g=Math.min(c,0);return{x:Math.min(Math.max(a.x,f),d),y:Math.min(Math.max(a.y,g),e)}},scaleTo:function(a,b){this.scale(a/this.zoomFactor,b)},scale:function(a,b){a=this.scaleZoomFactor(a),this.addOffset({x:(a-1)*(b.x+this.offset.x),y:(a-1)*(b.y+this.offset.y)})},scaleZoomFactor:function(a){var b=this.zoomFactor;return this.zoomFactor*=a,this.zoomFactor=Math.min(this.options.maxZoom,Math.max(this.zoomFactor,this.options.minZoom)),this.zoomFactor/b},drag:function(a,b){b&&(this.options.lockDragAxis?Math.abs(a.x-b.x)>Math.abs(a.y-b.y)?this.addOffset({x:-(a.x-b.x),y:0}):this.addOffset({y:-(a.y-b.y),x:0}):this.addOffset({y:-(a.y-b.y),x:-(a.x-b.x)}))},getTouchCenter:function(a){return this.getVectorAvg(a)},getVectorAvg:function(a){return{x:a.map(function(a){return a.x}).reduce(c)/a.length,y:a.map(function(a){return a.y}).reduce(c)/a.length}},addOffset:function(a){this.offset={x:this.offset.x+a.x,y:this.offset.y+a.y}},sanitize:function(){this.zoomFactor<this.options.zoomOutFactor?this.zoomOutAnimation():this.isInsaneOffset(this.offset)&&this.sanitizeOffsetAnimation()},isInsaneOffset:function(a){var b=this.sanitizeOffset(a);return b.x!==a.x||b.y!==a.y},sanitizeOffsetAnimation:function(){var a=this.sanitizeOffset(this.offset),b={x:this.offset.x,y:this.offset.y},c=function(c){this.offset.x=b.x+c*(a.x-b.x),this.offset.y=b.y+c*(a.y-b.y),this.update()}.bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,c,this.swing)},zoomOutAnimation:function(){var a=this.zoomFactor,b=1,c=this.getCurrentZoomCenter(),d=function(d){this.scaleTo(a+d*(b-a),c)}.bind(this);this.animate(this.options.animationDuration,this.options.animationInterval,d,this.swing)},updateAspectRatio:function(){this.setContainerY()},getInitialZoomFactor:function(){return this.container[0].offsetWidth/this.el[0].offsetWidth},getAspectRatio:function(){return this.el[0].offsetWidth/this.el[0].offsetHeight},getCurrentZoomCenter:function(){var a=this.container[0].offsetWidth*this.zoomFactor,b=this.offset.x,c=a-b-this.container[0].offsetWidth,d=b/c,e=d*this.container[0].offsetWidth/(d+1),f=this.container[0].offsetHeight*this.zoomFactor,g=this.offset.y,h=f-g-this.container[0].offsetHeight,i=g/h,j=i*this.container[0].offsetHeight/(i+1);return 0===c&&(e=this.container[0].offsetWidth),0===h&&(j=this.container[0].offsetHeight),{x:e,y:j}},canDrag:function(){return!d(this.zoomFactor,1)},getTouches:function(a){var b=this.container.offset();return Array.prototype.slice.call(a.touches).map(function(a){return{x:a.pageX-b.left,y:a.pageY-b.top}})},animate:function(a,b,c,d,e){var f=(new Date).getTime(),g=function(){if(this.inAnimation){var h=(new Date).getTime()-f,i=h/a;h>=a?(c(1),e&&e(),this.update(),this.stopAnimation(),this.update()):(d&&(i=d(i)),c(i),this.update(),setTimeout(g,b))}}.bind(this);this.inAnimation=!0,g()},stopAnimation:function(){this.inAnimation=!1},swing:function(a){return-Math.cos(a*Math.PI)/2+.5},getContainerX:function(){return window.innerWidth},getContainerY:function(){return window.innerHeight},setContainerY:function(a){var b=window.innerHeight;return this.el.css({height:b}),this.container.height(b)},setupMarkup:function(){this.container=a('<div class="pinch-zoom-container"></div>'),this.el.before(this.container),this.container.append(this.el),this.container.css({overflow:"hidden",position:"relative"}),this.el.css({"-webkit-transform-origin":"0% 0%","-moz-transform-origin":"0% 0%","-ms-transform-origin":"0% 0%","-o-transform-origin":"0% 0%","transform-origin":"0% 0%",position:"absolute"})},end:function(){this.hasInteraction=!1,this.sanitize(),this.update()},bindEvents:function(){e(this.container.get(0),this),a(window).on("resize",this.update.bind(this)),a(this.el).find("img").on("load",this.update.bind(this))},update:function(){this.updatePlaned||(this.updatePlaned=!0,setTimeout(function(){this.updatePlaned=!1,this.updateAspectRatio();var a=this.getInitialZoomFactor()*this.zoomFactor,b=-this.offset.x/a,c=-this.offset.y/a,d="scale3d("+a+", "+a+",1) translate3d("+b+"px,"+c+"px,0px)",e="scale("+a+", "+a+") translate("+b+"px,"+c+"px)",f=function(){this.clone&&(this.clone.remove(),delete this.clone)}.bind(this);!this.options.use2d||this.hasInteraction||this.inAnimation?(this.is3d=!0,f(),this.el.css({"-webkit-transform":d,"-o-transform":e,"-ms-transform":e,"-moz-transform":e,transform:d})):(this.is3d&&(this.clone=this.el.clone(),this.clone.css("pointer-events","none"),this.clone.appendTo(this.container),setTimeout(f,200)),this.el.css({"-webkit-transform":e,"-o-transform":e,"-ms-transform":e,"-moz-transform":e,transform:e}),this.is3d=!1)}.bind(this),0))},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1}};var e=function(a,b){var c=null,d=0,e=null,f=null,g=function(a,d){if(c!==a){if(c&&!a)switch(c){case"zoom":b.handleZoomEnd(d);break;case"drag":b.handleDragEnd(d)}switch(a){case"zoom":b.handleZoomStart(d);break;case"drag":b.handleDragStart(d)}}c=a},h=function(a){2===d?g("zoom"):1===d&&b.canDrag()?g("drag",a):g(null,a);
},i=function(a){return Array.prototype.slice.call(a).map(function(a){return{x:a.pageX,y:a.pageY}})},j=function(a,b){var c,d;return c=a.x-b.x,d=a.y-b.y,Math.sqrt(c*c+d*d)},k=function(a,b){var c=j(a[0],a[1]),d=j(b[0],b[1]);return d/c},l=function(a){a.stopPropagation(),a.preventDefault()},m=function(a){var f=(new Date).getTime();if(d>1&&(e=null),300>f-e)switch(l(a),b.handleDoubleTap(a),c){case"zoom":b.handleZoomEnd(a);break;case"drag":b.handleDragEnd(a)}1===d&&(e=f)},n=!0;a.addEventListener("touchstart",function(a){b.enabled&&(n=!0,d=a.touches.length,m(a))}),a.addEventListener("touchmove",function(a){if(b.enabled){if(n)h(a),c&&l(a),f=i(a.touches);else{switch(c){case"zoom":b.handleZoom(a,k(f,i(a.touches)));break;case"drag":b.handleDrag(a)}c&&(l(a),b.update())}n=!1}}),a.addEventListener("touchend",function(a){b.enabled&&(d=a.touches.length,h(a))})};return b}(jQuery),n=function(a,b,c,d){var e=b.support.animation,f=b.support.transition,g=function(c,d){this.$element=a(c),this.$body=a(document.body),this.options=a.extend({},g.DEFAULTS,d),this.$pureview=a(this.options.tpl).attr("id",b.utils.generateGUID("fn-pureview")),this.$slides=null,this.transitioning=null,this.scrollbarWidth=0,this.init()};g.DEFAULTS={tpl:'<div class="fn-pureview fn-pureview-bar-active"><ul class="fn-pureview-slider"></ul><ul class="fn-pureview-direction"><li class="fn-pureview-prev"><a href=""></a></li><li class="fn-pureview-next"><a href=""></a></li></ul><ol class="fn-pureview-nav"></ol><div class="fn-pureview-bar fn-active"><span class="fn-pureview-title"></span><div class="fn-pureview-counter"><span class="fn-pureview-current"></span> / <span class="fn-pureview-total"></span></div></div><div class="fn-pureview-actions fn-active"><a href="javascript: void(0)" class="fn-icon-chevron-left" data-fn-close="pureview"></a></div></div>',className:{prevSlide:"fn-pureview-slide-prev",nextSlide:"fn-pureview-slide-next",onlyOne:"fn-pureview-only",active:"fn-active",barActive:"fn-pureview-bar-active",activeBody:"fn-pureview-active"},selector:{slider:".fn-pureview-slider",close:'[data-fn-close="pureview"]',total:".fn-pureview-total",current:".fn-pureview-current",title:".fn-pureview-title",actions:".fn-pureview-actions",bar:".fn-pureview-bar",pinchZoom:".fn-pinch-zoom",nav:".fn-pureview-nav"},shareBtn:!1,toggleToolbar:!0,target:"img",weChatImagePreview:!0},g.prototype.init=function(){var b=this,c=this.options,e=this.$element,f=this.$pureview;this.refreshSlides(),a("body").append(f),this.$title=f.find(c.selector.title),this.$current=f.find(c.selector.current),this.$bar=f.find(c.selector.bar),this.$actions=f.find(c.selector.actions),c.shareBtn&&this.$actions.append('<a href="javascript: void(0)" class="fn-icon-share-square-o" data-fn-toggle="share"></a>'),this.$element.on("click.pureview",c.target,function(a){a.preventDefault();var d=b.$images.index(this);c.weChatImagePreview&&window.WeixinJSBridge?window.WeixinJSBridge.invoke("imagePreview",{current:b.imgUrls[d],urls:b.imgUrls}):b.open(d)}),f.find(".fn-pureview-direction").on("click.direction.pureview","li",function(c){c.preventDefault(),a(this).is(".fn-pureview-prev")?b.prevSlide():b.nextSlide()}),f.find(c.selector.nav).on("click.nav.pureview","li",function(){var c=b.$navItems.index(a(this));b.activate(b.$slides.eq(c))}),f.find(c.selector.close).on("click.close.pureview",function(a){a.preventDefault(),b.close()}),this.$slider.hammer().on("swipeleft.pureview",function(a){a.preventDefault(),b.nextSlide()}).on("swiperight.pureview",function(a){a.preventDefault(),b.prevSlide()}).on("press.pureview",function(a){a.preventDefault(),c.toggleToolbar&&b.toggleToolBar()}),this.$slider.data("hammer").get("swipe").set({direction:d.DIRECTION_HORIZONTAL,velocity:.35}),e.DOMObserve({childList:!0,subtree:!0},function(a,b){}),e.on("changed.dom",function(a){a.stopPropagation(),b.refreshSlides()}),a(document).on("keydown.pureview",a.proxy(function(a){var b=a.keyCode;37==b?this.prevSlide():39==b?this.nextSlide():27==b&&this.close()},this))},g.prototype.refreshSlides=function(){this.$images=this.$element.find(this.options.target);var b=this,c=this.options,d=this.$pureview,e=a([]),f=a([]),g=this.$images,i=g.length;this.$slider=d.find(c.selector.slider),this.$nav=d.find(c.selector.nav);var j="data-fn-pureviewed";this.imgUrls=this.imgUrls||[],i&&(1===i&&d.addClass(c.className.onlyOne),g.not("["+j+"]").each(function(c,d){var g,i;"A"===d.nodeName?(g=d.href,i=d.title||""):(g=a(d).data("rel")||d.src,g=h(g),i=a(d).attr("alt")||""),d.setAttribute(j,"1"),b.imgUrls.push(g),e=e.add(a('<li data-src="'+g+'" data-title="'+i+'"></li>')),f=f.add(a("<li>"+(c+1)+"</li>"))}),d.find(c.selector.total).text(i),this.$slider.append(e),this.$nav.append(f),this.$navItems=this.$nav.find("li"),this.$slides=this.$slider.find("li"))},g.prototype.loadImage=function(b,d){var e="image-appended";if(!b.data(e)){var f=a("<img>",{src:b.data("src"),alt:b.data("title")});b.html(f).wrapInner('<div class="fn-pinch-zoom"></div>');var g=b.find(this.options.selector.pinchZoom);g.data("fnui.pinchzoom",new c(g[0],{})),b.data("image-appended",!0)}d&&d.call(this)},g.prototype.activate=function(b){var c=this.options,d=this.$slides,e=d.index(b),g=b.data("title")||"",h=c.className.active;d.find("."+h).is(b)||this.transitioning||(this.loadImage(b,function(){j(b.find("img"),function(c){b.find(".fn-pinch-zoom").addClass("fn-pureview-loaded"),a(c).addClass("fn-img-loaded")})}),this.transitioning=1,this.$title.text(g),this.$current.text(e+1),d.removeClass(),b.addClass(h),d.eq(e-1).addClass(c.className.prevSlide),d.eq(e+1).addClass(c.className.nextSlide),this.$navItems.removeClass().eq(e).addClass(c.className.active),f?b.one(f.end,a.proxy(function(){this.transitioning=0},this)).emulateTransitionEnd(300):this.transitioning=0)},g.prototype.nextSlide=function(){if(1!==this.$slides.length){var a=this.$slides,b=a.filter(".fn-active"),c=a.index(b),d="fn-animation-right-spring";c+1>=a.length?e&&b.addClass(d).on(e.end,function(){b.removeClass(d)}):this.activate(a.eq(c+1))}},g.prototype.prevSlide=function(){if(1!==this.$slides.length){var a=this.$slides,b=a.filter(".fn-active"),c=this.$slides.index(b),d="fn-animation-left-spring";0===c?e&&b.addClass(d).on(e.end,function(){b.removeClass(d)}):this.activate(a.eq(c-1))}},g.prototype.toggleToolBar=function(){this.$pureview.toggleClass(this.options.className.barActive)},g.prototype.open=function(a){var b=a||0;this.checkScrollbar(),this.setScrollbar(),this.activate(this.$slides.eq(b)),this.$pureview.show().addClass(this.options.className.active),this.$body.addClass(this.options.className.activeBody)},g.prototype.close=function(){function b(){this.$pureview.hide(),this.$body.removeClass(c.className.activeBody),this.resetScrollbar()}var c=this.options;this.$pureview.removeClass(c.className.active),this.$slides.removeClass(),f?this.$pureview.one(f.end,a.proxy(b,this)).emulateTransitionEnd(300):b.call(this)},g.prototype.checkScrollbar=function(){this.scrollbarWidth=i()},g.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",a+this.scrollbarWidth)},g.prototype.resetScrollbar=function(){this.$body.css("padding-right","")};var h=function(){var a;return function(b){return a||(a=document.createElement("a")),a.href=b,a.href}}(),i=function(){if(document.body.clientWidth>=window.innerWidth)return 0;var b=a('<div style="width: 100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;"></div>');a(document.body).append(b);var c=b[0].offsetWidth-b[0].clientWidth;return b.remove(),c},j=function(a,b){function c(){b(a[0])}function d(){if(this.one("load",c),/MSIE (\d+\.\d+);/.test(navigator.userAgent)){var a=this.attr("src"),b=a.match(/\?/)?"&":"?";b+="random="+(new Date).getTime(),this.attr("src",a+b)}}return a.attr("src")?void(a[0].complete||4===a[0].readyState?c():d.call(a)):void c()};return b.plugin("pureview",g),b.ready(function(b){a("[data-fn-pureview]",b).pureview()}),g}(jQuery,a,m,i),o=function(a,b){function c(b,c){var d=a(b),e=!(!d.width()&&!d.height())&&"none"!==d.css("display");if(!e)return!1;var f=a(window),g=f.scrollLeft(),h=f.scrollTop(),i=d.offset(),j=i.left,k=i.top;return c=a.extend({topOffset:0,leftOffset:0},c),k+d.height()>=h&&k-c.topOffset<=h+f.height()&&j+d.width()>=g&&j-c.leftOffset<=g+f.width()}var d=function(c,e){if(b.support.animation){this.options=a.extend({},d.DEFAULTS,e),this.$element=a(c);var f=function(){b.rAF.call(window,a.proxy(this.checkView,this))}.bind(this);this.$window=a(window).on("scroll.scrollspy",f).on("resize.scrollspy orientationchange.scrollspy",b.utils.debounce(f,50)),this.timer=this.inViewState=this.initInView=null,f()}};return d.DEFAULTS={animation:"fade",className:{inView:"fn-scrollspy-inview",init:"fn-scrollspy-init"},repeat:!0,delay:0,topOffset:0,leftOffset:0},d.prototype.checkView=function(){var a=this.$element,b=this.options,d=c(a,b),e=b.animation?" fn-animation-"+b.animation:"";d&&!this.inViewState&&(this.timer&&clearTimeout(this.timer),this.initInView||(a.addClass(b.className.init),this.offset=a.offset(),this.initInView=!0,a.trigger("init.scrollspy")),this.timer=setTimeout(function(){d&&a.addClass(b.className.inView+e).width()},b.delay),this.inViewState=!0,a.trigger("inview.scrollspy")),!d&&this.inViewState&&b.repeat&&(a.removeClass(b.className.inView+e),this.inViewState=!1,a.trigger("outview.scrollspy"))},d.prototype.check=function(){b.rAF.call(window,a.proxy(this.checkView,this))},b.plugin("scrollspy",d),b.ready(function(b){a("[data-fn-scrollspy]",b).scrollspy()}),d}(jQuery,a),p=function(a,b){function c(b,c){var e=a(b),f=!(!e.width()&&!e.height())&&"none"!==e.css("display");if(!f)return!1;var g=d.scrollLeft(),h=d.scrollTop(),i=e.offset(),j=i.left,k=i.top;return c=a.extend({topOffset:0,leftOffset:0},c),k+e.height()>=h&&k-c.topOffset<=h+d.height()&&j+e.width()>=g&&j-c.leftOffset<=g+d.width()}var d=a(window),e=function(c,d){this.options=a.extend({},e.DEFAULTS,d),this.$element=a(c),this.anchors=[],this.$links=this.$element.find('a[href^="#"]').each(function(b,c){this.anchors.push(a(c).attr("href"))}.bind(this)),this.$targets=a(this.anchors.join(", "));var f=function(){b.rAF.call(window,a.proxy(this.process,this))}.bind(this);this.$window=a(window).on("scroll.scrollspynav",f).on("resize.scrollspynav orientationchange.scrollspynav",b.utils.debounce(f,50)),f(),this.scrollProcess()};return e.DEFAULTS={className:{active:"fn-active"},closest:!1,smooth:!0,offsetTop:0},e.prototype.process=function(){var b=this.$window.scrollTop(),d=this.options,e=[],f=this.$links,g=this.$targets;if(g.each(function(a,b){c(b,d)&&e.push(b)}),e.length){var h;if(a.each(e,function(c,d){return a(d).offset().top>=b?(h=a(d),!1):void 0}),!h)return;d.closest?(f.closest(d.closest).removeClass(d.className.active),f.filter('a[href="#'+h.attr("id")+'"]').closest(d.closest).addClass(d.className.active)):f.removeClass(d.className.active).filter('a[href="#'+h.attr("id")+'"]').addClass(d.className.active)}},e.prototype.scrollProcess=function(){var b=this.$links,c=this.options;c.smooth&&a.fn.smoothScroll&&b.on("click",function(b){b.preventDefault();var d=a(this),e=a(d.attr("href"));if(e){var f=c.offsetTop&&!isNaN(parseInt(c.offsetTop))&&parseInt(c.offsetTop)||0;a(window).smoothScroll({position:e.offset().top-f})}})},b.plugin("scrollspynav",e),b.ready(function(b){a("[data-fn-scrollspy-nav]",b).scrollspynav()}),e}(jQuery,a),q=function(a,b){a.expr[":"].containsNC=function(a,b,c,d){return(a.textContent||a.innerText||"").toLowerCase().indexOf((c[3]||"").toLowerCase())>=0};var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,{placeholder:b.getAttribute("placeholder")||c.DEFAULTS.placeholder},d),this.$originalOptions=this.$element.find("option"),this.multiple=b.multiple,this.$selector=null,this.initialized=!1,this.init()};return c.DEFAULTS={btnWidth:null,btnSize:null,btnStyle:"default",dropUp:0,maxHeight:null,maxChecked:null,placeholder:"点击选择...",selectedClass:"fn-checked",disabledClass:"fn-disabled",searchBox:!1,tpl:'<div class="fn-selected fn-dropdown <%= dropUp ? \'fn-dropdown-up\': \'\' %>" id="<%= id %>" data-fn-dropdown>  <button type="button" class="fn-selected-btn fn-btn fn-dropdown-toggle">    <span class="fn-selected-status fn-fl"></span>    <i class="fn-selected-icon fn-icon-caret-<%= dropUp ? \'up\' : \'down\' %>"></i>  </button>  <div class="fn-selected-content fn-dropdown-content">    <h2 class="fn-selected-header"><span class="fn-icon-chevron-left">返回</span></h2>   <% if (searchBox) { %>   <div class="fn-selected-search">     <input autocomplete="off" class="fn-form-field fn-input-sm" />   </div>   <% } %>    <ul class="fn-selected-list">      <% for (var i = 0; i < options.length; i++) { %>       <% var option = options[i] %>       <% if (option.header) { %>  <li data-group="<%= option.group %>" class="fn-selected-list-header">       <%= option.text %></li>       <% } else { %>       <li class="<%= option.classNames%>"          data-index="<%= option.index %>"          data-group="<%= option.group || 0 %>"          data-value="<%= option.value %>" >         <span class="fn-selected-text"><%= option.text %></span>         <i class="fn-icon-check"></i></li>      <% } %>      <% } %>    </ul>    <div class="fn-selected-hint"></div>  </div></div>',listTpl:'<% for (var i = 0; i < options.length; i++) { %>       <% var option = options[i] %>       <% if (option.header) { %>  <li data-group="<%= option.group %>" class="fn-selected-list-header">       <%= option.text %></li>       <% } else { %>       <li class="<%= option.classNames %>"          data-index="<%= option.index %>"          data-group="<%= option.group || 0 %>"          data-value="<%= option.value %>" >         <span class="fn-selected-text"><%= option.text %></span>         <i class="fn-icon-check"></i></li>      <% } %>      <% } %>'},c.prototype.init=function(){var b=this,d=this.$element,e=this.options;d.hide();var f={id:c.generateGUID(),multiple:this.multiple,options:[],searchBox:e.searchBox,dropUp:e.dropUp,placeholder:e.placeholder};this.$selector=a(c.template(this.options.tpl,f)),this.$selector.css({width:this.options.btnWidth}),this.$element[0].disabled&&this.$selector.addClass(e.disabledClass),this.$list=this.$selector.find(".fn-selected-list"),this.$searchField=this.$selector.find(".fn-selected-search input"),this.$hint=this.$selector.find(".fn-selected-hint");var g=this.$selector.find(".fn-selected-btn"),h=[];e.btnSize&&h.push("fn-btn-"+e.btnSize),e.btnStyle&&h.push("fn-btn-"+e.btnStyle),g.addClass(h.join(" ")),this.$selector.dropdown({justify:g}),e.maxHeight&&this.$selector.find(".fn-selected-list").css({"max-height":e.maxHeight,"overflow-y":"scroll"});var i=[],j=d.attr("minchecked"),k=d.attr("maxchecked")||e.maxChecked;this.maxChecked=k||1/0,d[0].required&&i.push("必选"),(j||k)&&(j&&i.push("至少选择 "+j+" 项"),k&&i.push("至多选择 "+k+" 项")),this.$hint.text(i.join("，")),this.renderOptions(),this.$element.after(this.$selector),this.dropdown=this.$selector.data("fnui.dropdown"),this.$status=this.$selector.find(".fn-selected-status"),setTimeout(function(){b.syncData(),b.initialized=!0},0),this.bindEvents()},c.prototype.renderOptions=function(){function a(a,b,c){if(""===b.value)return!0;var f="";b.disabled&&(f+=d.disabledClass),!b.disabled&&b.selected&&(f+=d.selectedClass),e.push({group:c,index:a,classNames:f,text:b.text,value:b.value})}var b=this.$element,d=this.options,e=[],f=b.find("optgroup");this.$originalOptions=this.$element.find("option"),this.multiple||null!==b.val()||this.$originalOptions.length&&(this.$originalOptions.get(0).selected=!0),f.length?f.each(function(b){e.push({header:!0,group:b+1,text:this.label}),f.eq(b).find("option").each(function(c,d){a(c,d,b)})}):this.$originalOptions.each(function(b,c){a(b,c,null)}),this.$list.html(c.template(d.listTpl,{options:e})),this.$shadowOptions=this.$list.find("> li").not(".fn-selected-list-header")},c.prototype.setChecked=function(b){var c=this.options,d=a(b),e=d.hasClass(c.selectedClass);if(this.multiple){var f=this.$list.find("."+c.selectedClass).length;if(!e&&this.maxChecked<=f)return this.$element.trigger("checkedOverflow.selected",{selected:this}),!1}else{if(e)return!1;this.dropdown.close(),this.$shadowOptions.not(d).removeClass(c.selectedClass)}d.toggleClass(c.selectedClass),this.syncData(b)},c.prototype.syncData=function(b){var c=this,d=this.options,e=[],f=a([]);if(this.$shadowOptions.filter("."+d.selectedClass).each(function(){var d=a(this);e.push(d.find(".fn-selected-text").text()),b||(f=f.add(c.$originalOptions.filter('[value="'+d.data("value")+'"]').prop("selected",!0)))}),b){var g=a(b);this.$originalOptions.filter('[value="'+g.data("value")+'"]').prop("selected",g.hasClass(d.selectedClass))}else this.$originalOptions.not(f).prop("selected",!1);this.$element.val()||(e=[d.placeholder]),this.$status.text(e.join(", ")),this.initialized&&this.$element.trigger("change")},c.prototype.bindEvents=function(){var c=this,d="fn-selected-list-header",e=b.utils.debounce(function(a){c.$shadowOptions.not("."+d).hide().filter(':containsNC("'+a.target.value+'")').show()},100);this.$list.on("click","> li",function(b){var e=a(this);!e.hasClass(c.options.disabledClass)&&!e.hasClass(d)&&c.setChecked(this)}),this.$searchField.on("keyup.selected",e),this.$selector.on("closed.dropdown",function(){c.$searchField.val(""),c.$shadowOptions.css({display:""})}),this.$element.on("validated.field.validator",function(a){if(a.validity){var b=a.validity.valid,d="fn-invalid";c.$selector[(b?"remove":"add")+"Class"](d)}}),b.support.mutationobserver&&(this.observer=new b.support.mutationobserver(function(){c.$element.trigger("changed.selected")}),this.observer.observe(this.$element[0],{childList:!0,attributes:!0,subtree:!0,characterData:!0})),this.$element.on("changed.selected",function(){c.renderOptions(),c.syncData()})},c.prototype.select=function(b){var c;c="number"==typeof b?this.$list.find("> li").not(".fn-selected-list-header").eq(b):"string"==typeof b?this.$list.find(b):a(b),c.trigger("click")},c.prototype.enable=function(){this.$element.prop("disable",!1),this.$selector.dropdown("enable")},c.prototype.disable=function(){this.$element.prop("disable",!0),this.$selector.dropdown("disable")},c.prototype.destroy=function(){this.$element.removeData("fnui.selected").show(),this.$selector.remove()},c.generateGUID=function(a){var b=a+"-"||"fn-";do b+=Math.random().toString(36).substring(2,7);while(document.getElementById(b));return b},c.template=function(a,b){var d=c.template;return d.cache[a]||(d.cache[a]=function(){var b=a,c=/^[\w\-]+$/.test(a)?d.get(a):(b="template(string)",a),e=1,f=("try { "+(d.variable?"var "+d.variable+" = this.stash;":"with (this.stash) { ")+"this.ret += '"+c.replace(/<%/g,"").replace(/%>/g,"").replace(/'(?![^\x11\x13]+?\x13)/g,"\\x27").replace(/^\s*|\s*$/g,"").replace(/\n/g,function(){return"';\nthis.line = "+ ++e+"; this.ret += '\\n"}).replace(/\x11-(.+?)\x13/g,"' + ($1) + '").replace(/\x11=(.+?)\x13/g,"' + this.escapeHTML($1) + '").replace(/\x11(.+?)\x13/g,"'; $1; this.ret += '")+"'; "+(d.variable?"":"}")+"return this.ret;} catch (e) { throw 'TemplateError: ' + e + ' (on "+b+"' + ' line ' + this.line + ')'; } //@ sourceURL="+b+"\n").replace(/this\.ret \+= '';/g,""),g=new Function(f),h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#x22;","'":"&#x27;"},i=function(a){return(""+a).replace(/[&<>\'\"]/g,function(a){return h[a]})};return function(a){return g.call(d.context={escapeHTML:i,line:1,ret:"",stash:a})}}()),b?d.cache[a](b):d.cache[a]},c.template.cache={},c.template.get=function(a){if(a){var b=document.getElementById(a);return b&&b.innerHTML||""}},b.plugin("selected",c),b.ready(function(b){a("[data-fn-selected]",b).selected()}),c}(jQuery,a),r=function(a,b){return a.flexslider=function(b,c){var d=a(b);d.vars=a.extend({},a.flexslider.defaults,c);var e,f="fn-",g=window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture,h=("ontouchstart"in window||g||window.DocumentTouch&&document instanceof DocumentTouch)&&d.vars.touch,i="click touchend MSPointerUp",j="",k="vertical"===d.vars.direction,l=d.vars.itemWidth>0,m="fade"===d.vars.animation,n={},o=!0;a.data(b,"flexslider",d),n={init:function(){d.animating=!1,d.currentSlide=parseInt(d.vars.startAt?d.vars.startAt:0,10),isNaN(d.currentSlide)&&(d.currentSlide=0),d.animatingTo=d.currentSlide,d.atEnd=0===d.currentSlide||d.currentSlide===d.last,d.containerSelector=d.vars.selector.substr(0,d.vars.selector.search(" ")),d.slides=a(d.vars.selector,d),d.container=a(d.containerSelector,d),d.count=d.slides.length,"slide"===d.vars.animation&&(d.vars.animation="swing"),d.prop=k?"top":"marginLeft",d.args={},d.manualPause=!1,d.stopped=!1,d.started=!1,d.startTimeout=null,d.transitions=!d.vars.video&&!m&&d.vars.useCSS&&function(){var a=document.createElement("div"),b=["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var c in b)if(void 0!==a.style[b[c]])return d.pfx=b[c].replace("Perspective","").toLowerCase(),d.prop="-"+d.pfx+"-transform",!0;return!1}(),d.ensureAnimationEnd="",d.doMath(),d.setup("init"),d.vars.controlNav&&n.controlNav.setup(),d.vars.directionNav&&n.directionNav.setup(),d.vars.slideshow&&d.vars.pauseInvisible&&n.pauseInvisible.init(),d.vars.slideshow&&(d.vars.pauseOnHover&&d.hover(function(){d.manualPlay||d.manualPause||d.pause()},function(){d.manualPause||d.manualPlay||d.stopped||d.play()}),d.vars.pauseInvisible&&n.pauseInvisible.isHidden()||(d.vars.initDelay>0?d.startTimeout=setTimeout(d.play,d.vars.initDelay):d.play())),h&&d.vars.touch&&n.touch(),d.find("img").attr("draggable","false"),setTimeout(function(){d.vars.start(d)},200)},controlNav:{setup:function(){d.manualControls?n.controlNav.setupManual():n.controlNav.setupPaging()},setupPaging:function(){var b,c,e="thumbnails"===d.vars.controlNav?"control-thumbs":"control-paging",g=1;if(d.controlNavScaffold=a('<ol class="'+f+"control-nav "+f+e+'"></ol>'),d.pagingCount>1)for(var h=0;h<d.pagingCount;h++)c=d.slides.eq(h),b="thumbnails"===d.vars.controlNav?'<img src="'+c.attr("data-thumb")+'"/>':"<a>"+g+"</a>",d.controlNavScaffold.append("<li>"+b+"<i></i></li>"),g++;d.append(d.controlNavScaffold),n.controlNav.set(),n.controlNav.active(),d.controlNavScaffold.delegate("a, img",i,function(b){if(b.preventDefault(),""===j||j===b.type){var c=a(this),e=d.controlNav.index(c);c.hasClass(f+"active")||(d.direction=e>d.currentSlide?"next":"prev",d.flexAnimate(e,d.vars.pauseOnAction))}""===j&&(j=b.type),n.setToClearWatchedEvent()})},setupManual:function(){d.controlNav=d.manualControls,n.controlNav.active(),d.controlNav.bind(i,function(b){if(b.preventDefault(),""===j||j===b.type){var c=a(this),e=d.controlNav.index(c);c.hasClass(f+"active")||(e>d.currentSlide?d.direction="next":d.direction="prev",d.flexAnimate(e,d.vars.pauseOnAction))}""===j&&(j=b.type),n.setToClearWatchedEvent()})},set:function(){var b="thumbnails"===d.vars.controlNav?"img":"a";d.controlNav=a("."+f+"control-nav li "+b,d.controlsContainer?d.controlsContainer:d)},active:function(){d.controlNav.removeClass(f+"active").eq(d.animatingTo).addClass(f+"active")},update:function(b,c){d.pagingCount>1&&"add"===b?d.controlNavScaffold.append(a("<li><a>"+d.count+"</a></li>")):1===d.pagingCount?d.controlNavScaffold.find("li").remove():d.controlNav.eq(c).closest("li").remove(),n.controlNav.set(),d.pagingCount>1&&d.pagingCount!==d.controlNav.length?d.update(c,b):n.controlNav.active()}},directionNav:{setup:function(){var b=a('<ul class="'+f+'direction-nav"><li class="'+f+'nav-prev"><a class="'+f+'prev" href="#">'+d.vars.prevText+'</a></li><li class="'+f+'nav-next"><a class="'+f+'next" href="#">'+d.vars.nextText+"</a></li></ul>");d.controlsContainer?(a(d.controlsContainer).append(b),d.directionNav=a("."+f+"direction-nav li a",d.controlsContainer)):(d.append(b),d.directionNav=a("."+f+"direction-nav li a",d)),n.directionNav.update(),d.directionNav.bind(i,function(b){b.preventDefault();var c;""!==j&&j!==b.type||(c=a(this).hasClass(f+"next")?d.getTarget("next"):d.getTarget("prev"),d.flexAnimate(c,d.vars.pauseOnAction)),""===j&&(j=b.type),n.setToClearWatchedEvent()})},update:function(){var a=f+"disabled";1===d.pagingCount?d.directionNav.addClass(a).attr("tabindex","-1"):d.vars.animationLoop?d.directionNav.removeClass(a).removeAttr("tabindex"):0===d.animatingTo?d.directionNav.removeClass(a).filter("."+f+"prev").addClass(a).attr("tabindex","-1"):d.animatingTo===d.last?d.directionNav.removeClass(a).filter("."+f+"next").addClass(a).attr("tabindex","-1"):d.directionNav.removeClass(a).removeAttr("tabindex")}},pausePlay:{setup:function(){var b=a('<div class="'+f+'pauseplay"><a></a></div>');d.controlsContainer?(d.controlsContainer.append(b),d.pausePlay=a("."+f+"pauseplay a",d.controlsContainer)):(d.append(b),d.pausePlay=a("."+f+"pauseplay a",d)),n.pausePlay.update(d.vars.slideshow?f+"pause":f+"play"),d.pausePlay.bind(i,function(b){b.preventDefault(),""!==j&&j!==b.type||(a(this).hasClass(f+"pause")?(d.manualPause=!0,d.manualPlay=!1,d.pause()):(d.manualPause=!1,d.manualPlay=!0,d.play())),""===j&&(j=b.type),n.setToClearWatchedEvent()})},update:function(a){"play"===a?d.pausePlay.removeClass(f+"pause").addClass(f+"play").html(d.vars.playText):d.pausePlay.removeClass(f+"play").addClass(f+"pause").html(d.vars.pauseText)}},touch:function(){function a(a){d.animating?a.preventDefault():(window.navigator.msPointerEnabled||1===a.touches.length)&&(d.pause(),p=k?d.h:d.w,r=Number(new Date),t=a.touches[0].pageX,u=a.touches[0].pageY,o=l&&d.currentSlide===d.last?d.limit:l?(d.itemW+d.vars.itemMargin)*d.move*d.currentSlide:(d.currentSlide+d.cloneOffset)*p,j=k?u:t,n=k?t:u,b.addEventListener("touchmove",c,!1),b.addEventListener("touchend",e,!1))}function c(a){t=a.touches[0].pageX,u=a.touches[0].pageY,q=k?j-u:j-t,s=k?Math.abs(q)<Math.abs(t-n):Math.abs(q)<Math.abs(u-n);var b=500;(!s||Number(new Date)-r>b)&&(a.preventDefault(),!m&&d.transitions&&(d.vars.animationLoop||(q/=0===d.currentSlide&&0>q||d.currentSlide===d.last&&q>0?Math.abs(q)/p+2:1),d.setProps(o+q,"setTouch")))}function e(a){if(b.removeEventListener("touchmove",c,!1),d.animatingTo===d.currentSlide&&!s&&null!==q){var f=q,g=f>0?d.getTarget("next"):d.getTarget("prev");d.canAdvance(g)&&(Number(new Date)-r<550&&Math.abs(f)>50||Math.abs(f)>p/2)?d.flexAnimate(g,d.vars.pauseOnAction):m||d.flexAnimate(d.currentSlide,d.vars.pauseOnAction,!0)}b.removeEventListener("touchend",e,!1),j=null,n=null,q=null,o=null}function f(a){a.stopPropagation(),d.animating?a.preventDefault():(d.pause(),b._gesture.addPointer(a.pointerId),v=0,p=k?d.h:d.w,r=Number(new Date),o=l&&d.currentSlide===d.last?d.limit:l?(d.itemW+d.vars.itemMargin)*d.move*d.currentSlide:(d.currentSlide+d.cloneOffset)*p)}function h(a){a.stopPropagation();var c=a.target._slider;if(c){var d=-a.translationX,e=-a.translationY;return v+=k?e:d,q=v,s=k?Math.abs(v)<Math.abs(-d):Math.abs(v)<Math.abs(-e),a.detail===a.MSGESTURE_FLAG_INERTIA?void setImmediate(function(){b._gesture.stop()}):void((!s||Number(new Date)-r>500)&&(a.preventDefault(),!m&&c.transitions&&(c.vars.animationLoop||(q=v/(0===c.currentSlide&&0>v||c.currentSlide===c.last&&v>0?Math.abs(v)/p+2:1)),c.setProps(o+q,"setTouch"))))}}function i(a){a.stopPropagation();var b=a.target._slider;if(b){if(b.animatingTo===b.currentSlide&&!s&&null!==q){var c=q,d=c>0?b.getTarget("next"):b.getTarget("prev");b.canAdvance(d)&&(Number(new Date)-r<550&&Math.abs(c)>50||Math.abs(c)>p/2)?b.flexAnimate(d,b.vars.pauseOnAction):m||b.flexAnimate(b.currentSlide,b.vars.pauseOnAction,!0)}j=null,n=null,q=null,o=null,v=0}}var j,n,o,p,q,r,s=!1,t=0,u=0,v=0;g?(b.style.msTouchAction="none",b._gesture=new MSGesture,b._gesture.target=b,b.addEventListener("MSPointerDown",f,!1),b._slider=d,b.addEventListener("MSGestureChange",h,!1),b.addEventListener("MSGestureEnd",i,!1)):b.addEventListener("touchstart",a,!1)},uniqueID:function(b){return b.filter("[id]").add(b.find("[id]")).each(function(){var b=a(this);b.attr("id",b.attr("id")+"_clone")}),b},pauseInvisible:{visProp:null,init:function(){var a=n.pauseInvisible.getHiddenProp();if(a){var b=a.replace(/[H|h]idden/,"")+"visibilitychange";document.addEventListener(b,function(){n.pauseInvisible.isHidden()?d.startTimeout?clearTimeout(d.startTimeout):d.pause():d.started?d.play():d.vars.initDelay>0?setTimeout(d.play,d.vars.initDelay):d.play()})}},isHidden:function(){var a=n.pauseInvisible.getHiddenProp();return a?document[a]:!1},getHiddenProp:function(){var a=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var b=0;b<a.length;b++)if(a[b]+"Hidden"in document)return a[b]+"Hidden";return null}},setToClearWatchedEvent:function(){clearTimeout(e),e=setTimeout(function(){j=""},3e3)}},d.flexAnimate=function(b,c,e,g,i){if(d.vars.animationLoop||b===d.currentSlide||(d.direction=b>d.currentSlide?"next":"prev"),1===d.pagingCount&&(d.direction=d.currentItem<b?"next":"prev"),!d.animating&&(d.canAdvance(b,i)||e)&&d.is(":visible")){if(g){var j=a(d.vars.asNavFor).data("flexslider");if(d.atEnd=0===b||b===d.count-1,j.flexAnimate(b,!0,!1,!0,i),d.direction=d.currentItem<b?"next":"prev",j.direction=d.direction,Math.ceil((b+1)/d.visible)-1===d.currentSlide||0===b)return d.currentItem=b,d.slides.removeClass(f+"active-slide").eq(b).addClass(f+"active-slide"),!1;d.currentItem=b,d.slides.removeClass(f+"active-slide").eq(b).addClass(f+"active-slide"),b=Math.floor(b/d.visible)}if(d.animating=!0,d.animatingTo=b,c&&d.pause(),d.vars.controlNav&&n.controlNav.active(),l||d.slides.removeClass(f+"active-slide").eq(b).addClass(f+"active-slide"),d.atEnd=0===b||b===d.last,d.vars.directionNav&&n.directionNav.update(),b===d.last&&(d.vars.end(d),d.vars.animationLoop||d.pause()),m)h?(d.slides.eq(d.currentSlide).css({opacity:0,zIndex:1}),d.slides.eq(b).css({opacity:1,zIndex:2}),d.wrapup(r)):(d.slides.eq(d.currentSlide).css({zIndex:1}).animate({opacity:0},d.vars.animationSpeed,d.vars.easing),d.slides.eq(b).css({zIndex:2}).animate({opacity:1},d.vars.animationSpeed,d.vars.easing,d.wrapup));else{var o,p,q,r=k?d.slides.filter(":first").height():d.computedW;l?(o=d.vars.itemMargin,q=(d.itemW+o)*d.move*d.animatingTo,p=q>d.limit&&1!==d.visible?d.limit:q):p=0===d.currentSlide&&b===d.count-1&&d.vars.animationLoop&&"next"!==d.direction?0:d.currentSlide===d.last&&0===b&&d.vars.animationLoop&&"prev"!==d.direction?(d.count+1)*r:(b+d.cloneOffset)*r,d.setProps(p,"",d.vars.animationSpeed),d.transitions?(d.vars.animationLoop&&d.atEnd||(d.animating=!1,d.currentSlide=d.animatingTo),d.container.unbind("webkitTransitionEnd transitionend"),d.container.bind("webkitTransitionEnd transitionend",function(){clearTimeout(d.ensureAnimationEnd),d.wrapup(r)}),clearTimeout(d.ensureAnimationEnd),d.ensureAnimationEnd=setTimeout(function(){d.wrapup(r)},d.vars.animationSpeed+100)):d.container.animate(d.args,d.vars.animationSpeed,d.vars.easing,function(){d.wrapup(r)})}d.vars.smoothHeight&&n.smoothHeight(d.vars.animationSpeed)}},d.wrapup=function(a){m||l||(0===d.currentSlide&&d.animatingTo===d.last&&d.vars.animationLoop?d.setProps(a,"jumpEnd"):d.currentSlide===d.last&&0===d.animatingTo&&d.vars.animationLoop&&d.setProps(a,"jumpStart")),d.animating=!1,d.currentSlide=d.animatingTo},d.animateSlides=function(){!d.animating&&o&&d.flexAnimate(d.getTarget("next"))},d.pause=function(){clearInterval(d.animatedSlides),d.animatedSlides=null,d.playing=!1,d.vars.pausePlay&&n.pausePlay.update("play"),d.syncExists&&n.sync("pause")},d.play=function(){d.playing&&clearInterval(d.animatedSlides),d.animatedSlides=d.animatedSlides||setInterval(d.animateSlides,d.vars.slideshowSpeed),d.started=d.playing=!0,d.vars.pausePlay&&n.pausePlay.update("pause"),d.syncExists&&n.sync("play")},d.stop=function(){d.pause(),d.stopped=!0},d.canAdvance=function(a,b){var c=d.last;return b?!0:d.currentItem===d.count-1&&0===a&&"prev"===d.direction?!0:0===d.currentItem&&a===d.pagingCount-1&&"next"!==d.direction?!1:d.vars.animationLoop?!0:d.atEnd&&0===d.currentSlide&&a===c&&"next"!==d.direction?!1:!d.atEnd||d.currentSlide!==c||0!==a||"next"!==d.direction},d.getTarget=function(a){return d.direction=a,"next"===a?d.currentSlide===d.last?0:d.currentSlide+1:0===d.currentSlide?d.last:d.currentSlide-1;
},d.setProps=function(a,b,c){var e=function(){var c=a?a:(d.itemW+d.vars.itemMargin)*d.move*d.animatingTo,e=function(){if(l)return"setTouch"===b?a:d.animatingTo===d.last?d.limit:c;switch(b){case"setTotal":return(d.currentSlide+d.cloneOffset)*a;case"setTouch":return a;case"jumpEnd":return d.count*a;case"jumpStart":return a;default:return a}}();return-1*e+"px"}();d.transitions&&(e=k?"translate3d(0,"+e+",0)":"translate3d("+e+",0,0)",c=void 0!==c?c/1e3+"s":"0s",d.container.css("-"+d.pfx+"-transition-duration",c),d.container.css("transition-duration",c)),d.args[d.prop]=e,(d.transitions||void 0===c)&&d.container.css(d.args),d.container.css("transform",e)},d.setup=function(b){if(m)d.slides.css({width:"100%","float":"left",marginRight:"-100%",position:"relative"}),"init"===b&&(h?d.slides.css({opacity:0,display:"block",webkitTransition:"opacity "+d.vars.animationSpeed/1e3+"s ease",zIndex:1}).eq(d.currentSlide).css({opacity:1,zIndex:2}):d.slides.css({opacity:0,display:"block",zIndex:1}).eq(d.currentSlide).css({zIndex:2}).animate({opacity:1},d.vars.animationSpeed,d.vars.easing));else{var c;"init"===b&&(d.viewport=a('<div class="'+f+'viewport"></div>').css({overflow:"hidden",position:"relative"}).appendTo(d).append(d.container),d.cloneCount=0,d.cloneOffset=0),d.vars.animationLoop&&!l&&(d.cloneCount=2,d.cloneOffset=1,"init"!==b&&d.container.find(".clone").remove(),d.container.append(n.uniqueID(d.slides.first().clone().addClass("clone")).attr("aria-hidden","true")).prepend(n.uniqueID(d.slides.last().clone().addClass("clone")).attr("aria-hidden","true"))),d.newSlides=a(d.vars.selector,d),c=d.currentSlide+d.cloneOffset,k&&!l?(d.container.height(200*(d.count+d.cloneCount)+"%").css("position","absolute").width("100%"),setTimeout(function(){d.newSlides.css({display:"block"}),d.doMath(),d.viewport.height(d.h),d.setProps(c*d.h,"init")},"init"===b?100:0)):(d.container.width(200*(d.count+d.cloneCount)+"%"),d.setProps(c*d.computedW,"init"),setTimeout(function(){d.doMath(),d.newSlides.css({width:d.computedW,"float":"left",display:"block"})},"init"===b?100:0))}l||d.slides.removeClass(f+"active-slide").eq(d.currentSlide).addClass(f+"active-slide"),d.vars.init(d)},d.doMath=function(){var a=d.slides.first(),b=d.vars.itemMargin,c=d.vars.minItems,e=d.vars.maxItems;d.w=void 0===d.viewport?d.width():d.viewport.width(),d.h=a.height(),d.boxPadding=a.outerWidth()-a.width(),l?(d.itemT=d.vars.itemWidth+b,d.minW=c?c*d.itemT:d.w,d.maxW=e?e*d.itemT-b:d.w,d.itemW=d.minW>d.w?(d.w-b*(c-1))/c:d.maxW<d.w?(d.w-b*(e-1))/e:d.vars.itemWidth>d.w?d.w:d.vars.itemWidth,d.visible=Math.floor(d.w/d.itemW),d.move=d.vars.move>0&&d.vars.move<d.visible?d.vars.move:d.visible,d.pagingCount=Math.ceil((d.count-d.visible)/d.move+1),d.last=d.pagingCount-1,d.limit=1===d.pagingCount?0:d.vars.itemWidth>d.w?d.itemW*(d.count-1)+b*(d.count-1):(d.itemW+b)*d.count-d.w-b):(d.itemW=d.w,d.pagingCount=d.count,d.last=d.count-1),d.computedW=d.itemW-d.boxPadding},d.update=function(a,b){d.doMath(),l||(a<d.currentSlide?d.currentSlide+=1:a<=d.currentSlide&&0!==a&&(d.currentSlide-=1),d.animatingTo=d.currentSlide),d.vars.controlNav&&!d.manualControls&&("add"===b&&!l||d.pagingCount>d.controlNav.length?n.controlNav.update("add"):("remove"===b&&!l||d.pagingCount<d.controlNav.length)&&(l&&d.currentSlide>d.last&&(d.currentSlide-=1,d.animatingTo-=1),n.controlNav.update("remove",d.last))),d.vars.directionNav&&n.directionNav.update()},d.addSlide=function(b,c){var e=a(b);d.count+=1,d.last=d.count-1,void 0!==c?d.slides.eq(c).before(e):d.container.append(e),d.update(c,"add"),d.slides=a(d.vars.selector+":not(.clone)",d),d.setup(),d.vars.added(d)},d.removeSlide=function(b){var c=isNaN(b)?d.slides.index(a(b)):b;d.count-=1,d.last=d.count-1,isNaN(b)?a(b,d.slides).remove():d.slides.eq(b).remove(),d.doMath(),d.update(c,"remove"),d.slides=a(d.vars.selector+":not(.clone)",d),d.setup(),d.vars.removed(d)},a(window).blur(function(a){o=!1}).focus(function(a){o=!0}),n.init()},a.flexslider.defaults={selector:".fn-slides > li",pauseInvisible:!0,animation:"slide",easing:"swing",direction:"horizontal",animationLoop:!0,startAt:0,slideshow:!0,slideshowSpeed:5e3,animationSpeed:600,initDelay:0,pauseOnAction:!0,pauseOnHover:!1,useCSS:!0,touch:!0,video:!1,controlNav:!0,directionNav:!0,prevText:"prev",nextText:"next",itemWidth:0,itemMargin:0,minItems:1,maxItems:0,start:function(){},before:function(){},after:function(){},end:function(){},added:function(){},removed:function(){},init:function(){}},a.fn.flexslider=function(b){var c=Array.prototype.slice.call(arguments,1);if(void 0===b&&(b={}),"object"==typeof b)return this.each(function(){var c=a(this),d=b.selector?b.selector:".fn-slides > li",e=c.find(d);1===e.length||0===e.length?(e.fadeIn(400),b.start&&b.start(c)):void 0===c.data("flexslider")&&new a.flexslider(this,b)});var d,e=a(this).data("flexslider");switch(b){case"next":e.flexAnimate(e.getTarget("next"),!0);break;case"prev":case"previous":e.flexAnimate(e.getTarget("prev"),!0);break;default:"number"==typeof b?e.flexAnimate(b,!0):"string"==typeof b&&(d="function"==typeof e[b]?e[b].apply(e,c):e[b])}return void 0===d?this:d},b.ready(function(c){a("[data-fn-flexslider]",c).each(function(c,d){var e=a(d),f=b.utils.parseOptions(e.data("fnFlexslider"));e.flexslider(f)})}),a.flexslider}(jQuery,a),s=function(a,b){var c=b.rAF,d=b.cancelAF,e=!1,f=function(g,h){function i(a){return(a/=.5)<1?.5*Math.pow(a,5):.5*(Math.pow(a-2,5)+2)}function j(){o.off("touchstart.smoothscroll",u),e=!1}function k(a){e&&(l||(l=a),m=Math.min(1,Math.max((a-l)/t,0)),n=Math.round(q+s*i(m)),s>0&&n>p&&(n=p),0>s&&p>n&&(n=p),r!=n&&o.scrollTop(n),r=n,n!==p?(d(v),v=c(k)):(d(v),j()))}h=b.utils.parseOptions(h)||{};var l,m,n,o=a(g),p=parseInt(h.position)||f.DEFAULTS.position,q=o.scrollTop(),r=q,s=p-q,t=h.speed||Math.min(750,Math.min(1500,Math.abs(q-p))),u=function(){j()};if(!e&&0!==s){o.on("touchstart.smoothscroll",u),e=!0;var v=c(k)}};return f.DEFAULTS={position:0},a.fn.smoothScroll=function(a){return this.each(function(){new f(this,a)})},a(document).on("click.smoothScroll.data-api","[data-fn-smooth-scroll]",function(b){b.preventDefault();var c=a(this).data("fn-smoothScroll");a(window).smoothScroll(c)}),f}(jQuery,a),t=function(a,b){var c=function(d,e){var f=this;this.options=a.extend({},c.DEFAULTS,e),this.$element=a(d),this.sticked=null,this.inited=null,this.$holder=void 0,this.$window=a(window).on("scroll.sticky",b.utils.debounce(a.proxy(this.checkPosition,this),10)).on("resize.sticky orientationchange.sticky",b.utils.debounce(function(){f.reset(!0,function(){f.checkPosition()})},50)).on("load.sticky",a.proxy(this.checkPosition,this)),this.offset=this.$element.offset(),this.init()};return c.DEFAULTS={top:0,bottom:0,animation:"",className:{sticky:"fn-sticky",resetting:"fn-sticky-resetting",stickyBtm:"fn-sticky-bottom",animationRev:"fn-animation-reverse"}},c.prototype.init=function(){var b=this.check();if(!b)return!1;var c=this.$element,d="";a.each(c.css(["marginTop","marginRight","marginBottom","marginLeft"]),function(a,b){return d+=" "+b});var e=a('<div class="fn-sticky-placeholder"></div>').css({height:"absolute"!==c.css("position")?c.outerHeight():"","float":"none"!=c.css("float")?c.css("float"):"",margin:d});return this.$holder=c.css("margin",0).wrap(e).parent(),this.inited=1,!0},c.prototype.reset=function(a,c){var d=this.options,e=this.$element,f=d.animation?" fn-animation-"+d.animation:"",g=function(){e.css({position:"",top:"",width:"",left:"",margin:0}),e.removeClass([f,d.className.animationRev,d.className.sticky,d.className.resetting].join(" ")),this.animating=!1,this.sticked=!1,this.offset=e.offset(),c&&c()}.bind(this);e.addClass(d.className.resetting),!a&&d.animation&&b.support.animation?(this.animating=!0,e.removeClass(f).one(b.support.animation.end,function(){g()}).width(),e.addClass(f+" "+d.className.animationRev)):g()},c.prototype.check=function(){if(!this.$element.is(":visible"))return!1;var a=this.options.media;if(a)switch(typeof a){case"number":if(window.innerWidth<a)return!1;break;case"string":if(window.matchMedia&&!window.matchMedia(a).matches)return!1}return!0},c.prototype.checkPosition=function(){if(!this.inited){var a=this.init();if(!a)return}var b=this.options,c=this.$window.scrollTop(),d=b.top,e=b.bottom,f=this.$element,g=b.animation?" fn-animation-"+b.animation:"",h=[b.className.sticky,g].join(" ");"function"==typeof e&&(e=e(this.$element));var i=c>this.$holder.offset().top;!this.sticked&&i?f.addClass(h):this.sticked&&!i&&this.reset(),this.$holder.css({height:f.is(":visible")&&"absolute"!==f.css("position")?f.outerHeight():""}),i&&f.css({top:d,left:this.$holder.offset().left,width:this.$holder.width()}),this.sticked=i},b.plugin("sticky",c),b.ready(function(b){a("[data-fn-sticky]").sticky()}),c}(jQuery,a),u=function(a,b){function c(b){var c,d=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=a(this),g=e.is(".fn-tabs")&&e||e.closest(".fn-tabs"),h=g.data("fnui.tabs"),i=a.extend({},e.data("amTabs"),a.isPlainObject(b)&&b);h||g.data("fnui.tabs",h=new f(g[0],i)),"string"==typeof b&&("open"===b&&e.is(".fn-tabs-nav a")?h.open(e):c="function"==typeof h[b]?h[b].apply(h,d):h[b])}),void 0===c?this:c}var d=b.support.transition,e=b.support.animation,f=function(b,c){this.$element=a(b),this.options=a.extend({},f.DEFAULTS,c||{}),this.transitioning=this.activeIndex=null,this.refresh(),this.init()};return f.VERSION="2.0.0",f.DEFAULTS={selector:{nav:"> .fn-tabs-nav",content:"> .fn-tabs-bd",panel:"> .fn-tab-panel"},activeClass:"fn-active"},f.prototype.refresh=function(){var a=this.options.selector;this.$tabNav=this.$element.find(a.nav),this.$navs=this.$tabNav.find("a"),this.$content=this.$element.find(a.content),this.$tabPanels=this.$content.find(a.panel);var b=this.$tabNav.find("> ."+this.options.activeClass);1!==b.length?this.open(0):this.activeIndex=this.$navs.index(b.children("a"))},f.prototype.init=function(){var b=this,c=this.options;this.$element.on("click.tabs",c.selector.nav+" a",function(c){c.preventDefault(),b.open(a(this))})},f.prototype.open=function(b){var c=this.options.activeClass,d="number"==typeof b?b:this.$navs.index(a(b));if(b="number"==typeof b?this.$navs.eq(d):a(b),b&&b.length&&!this.transitioning&&!b.parent("li").hasClass(c)){var e=this.$tabNav,f=b.attr("href"),g=/^#.+$/,h=g.test(f)&&this.$content.find(f)||this.$tabPanels.eq(d),i=e.find("."+c+" a")[0],j=a.Event("open.tabs",{relatedTarget:i});b.trigger(j),j.isDefaultPrevented()||(this.activate(b.closest("li"),e),this.activate(h,this.$content,function(){b.trigger({type:"opened.tabs",relatedTarget:i})}),this.activeIndex=d)}},f.prototype.activate=function(b,c,e){this.transitioning=!0;var f=this.options.activeClass,g=c.find("> ."+f),h=e&&d&&!!g.length;g.removeClass(f+" fn-in"),b.addClass(f),h?b.addClass("fn-in"):b.removeClass("fn-fade");var i=a.proxy(function(){e&&e(),this.transitioning=!1},this);h?g.one("fnTransitionEnd",i):i()},f.prototype.goTo=function(a){var b=this.activeIndex,c="next"===a,d=c?"fn-animation-right-spring":"fn-animation-left-spring";if(c&&b+1>=this.$navs.length||!c&&0===b){var f=this.$tabPanels.eq(b);e&&f.addClass(d).on("fnAnimationEnd",function(){f.removeClass(d)}).emulateAnimationEnd(300)}else this.open(c?b+1:b-1)},f.prototype.destroy=function(){this.$element.off(".tabs"),a.removeData(this.$element,"fnui.tabs")},a.fn.tabs=c,b.ready(function(b){a("[data-fn-tabs]",b).tabs()}),a(document).on("click.tabs.data-api","[data-fn-tabs] .fn-tabs-nav a",function(b){b.preventDefault(),c.call(a(this),"open")}),f}(jQuery,a),v=function(a,b){var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$element=a(b),this.init()};return c.DEFAULTS={checkboxClass:"fn-ucheck-checkbox",radioClass:"fn-ucheck-radio",checkboxTpl:'<span class="fn-ucheck-icons"><i class="fn-icon-unchecked"></i><i class="fn-icon-checked"></i></span>',radioTpl:'<span class="fn-ucheck-icons"><i class="fn-icon-unchecked"></i><i class="fn-icon-checked"></i></span>'},c.prototype.init=function(){var a=this.$element,b=a[0],c=this.options;"checkbox"===b.type?a.addClass(c.checkboxClass).after(c.checkboxTpl):"radio"===b.type&&a.addClass(c.radioClass).after(c.radioTpl)},c.prototype.check=function(){this.$element.prop("checked",!0).trigger("change.ucheck").trigger("checked.ucheck")},c.prototype.uncheck=function(){this.$element.prop("checked",!1).trigger("change.ucheck").trigger("unchecked.ucheck")},c.prototype.toggle=function(){this.$element.prop("checked",function(a,b){return!b}).trigger("change.ucheck").trigger("toggled.ucheck")},c.prototype.disable=function(){this.$element.prop("disabled",!0).trigger("change.ucheck").trigger("disabled.ucheck")},c.prototype.enable=function(){this.$element.prop("disabled",!1),this.$element.trigger("change.ucheck").trigger("enabled.ucheck")},c.prototype.destroy=function(){this.$element.removeData("fnui.ucheck").removeClass(this.options.checkboxClass+" "+this.options.radioClass).next(".fn-ucheck-icons").remove().end().trigger("destroyed.ucheck")},b.plugin("uCheck",c,{after:function(){b.support.touch&&this.parent().hover(function(){this.addClass("fn-nohover")},function(){this.removeClass("fn-nohover")})}}),b.ready(function(b){a("[data-fn-ucheck]",b).uCheck()}),c}(jQuery,a),w=function(a,b){var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.options.patterns=a.extend({},c.patterns,this.options.patterns);var e=this.options.locales;!c.validationMessages[e]&&(this.options.locales="zh_CN"),this.$element=a(b),this.init()};return c.DEFAULTS={debug:!1,locales:"zh_CN",H5validation:!1,H5inputType:["email","url","number"],patterns:{},patternClassPrefix:"js-pattern-",activeClass:"fn-active",inValidClass:"fn-field-error",validClass:"fn-field-valid",validateOnSubmit:!0,alwaysRevalidate:!1,allFields:":input:not(:submit, :button, :disabled, .fn-novalidate)",ignore:":hidden:not([data-fn-selected], .fn-validate)",customEvents:"validate",keyboardFields:":input:not(:submit, :button, :disabled, .fn-novalidate)",keyboardEvents:"focusout, change",activeKeyup:!1,textareaMaxlenthKeyup:!0,pointerFields:'input[type="range"]:not(:disabled, .fn-novalidate), input[type="radio"]:not(:disabled, .fn-novalidate), input[type="checkbox"]:not(:disabled, .fn-novalidate), select:not(:disabled, .fn-novalidate), option:not(:disabled, .fn-novalidate)',pointerEvents:"click",onValid:function(a){},onInValid:function(a){},markValid:function(b){var c=this.options,d=a(b.field),e=d.closest(".fn-form-group");d.addClass(c.validClass).removeClass(c.inValidClass),e.addClass("fn-form-success").removeClass("fn-form-error"),c.onValid.call(this,b)},markInValid:function(b){var c=this.options,d=a(b.field),e=d.closest(".fn-form-group");d.addClass(c.inValidClass+" "+c.activeClass).removeClass(c.validClass),e.addClass("fn-form-error").removeClass("fn-form-success"),c.onInValid.call(this,b)},validate:function(a){},submit:null,onSuccess:function(){}},c.VERSION="{{VERSION}}",c.patterns={email:/^((([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-zA-Z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/,url:/^(https?|ftp):\/\/(((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-zA-Z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-zA-Z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/,dateISO:/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/,integer:/^-?\d+$/},c.validationMessages={zh_CN:{valueMissing:"请填写（选择）此字段",customError:{tooShort:"至少填写 %s 个字符",checkedOverflow:"至多选择 %s 项",checkedUnderflow:"至少选择 %s 项"},patternMismatch:"请按照要求的格式填写",rangeOverflow:"请填写小于等于 %s 的值",rangeUnderflow:"请填写大于等于 %s 的值",stepMismatch:"",tooLong:"至多填写 %s 个字符",typeMismatch:"请按照要求的类型填写"}},c.ERROR_MAP={tooShort:"minlength",checkedOverflow:"maxchecked",checkedUnderflow:"minchecked",rangeOverflow:"max",rangeUnderflow:"min",tooLong:"maxlength"},c.prototype.init=function(){function c(a){var b=a.toString();return b.substring(1,b.length-1)}function d(c,d,g){var h=d.split(","),i=function(a){e.validate(this)};g&&(i=b.utils.debounce(i,g)),a.each(h,function(a,b){f.on(b+".validator",c,i)})}var e=this,f=this.$element,g=this.options;return g.H5validation&&b.support.formValidation?!1:(f.attr("novalidate","novalidate"),a.each(g.H5inputType,function(a,b){var d=f.find("input[type="+b+"]");d.attr("pattern")||d.is("[class*="+g.patternClassPrefix+"]")||d.attr("pattern",c(g.patterns[b]))}),a.each(g.patterns,function(a,b){var d=f.find("."+g.patternClassPrefix+a);!d.attr("pattern")&&d.attr("pattern",c(b))}),f.on("submit.validator",function(b){if("function"==typeof g.submit)return g.submit.call(e,b);if(g.validateOnSubmit){var c=e.isFormValid();return"boolean"===a.type(c)?(c&&"function"==typeof g.onSuccess&&g.onSuccess(),c):f.data("fnui.checked")?!0:(a.when(c).then(function(){f.data("fnui.checked",!0).submit()},function(){f.data("fnui.checked",!1).find("."+g.inValidClass).eq(0).focus()}),!1)}}),d(":input",g.customEvents),d(g.keyboardFields,g.keyboardEvents),d(g.pointerFields,g.pointerEvents),g.textareaMaxlenthKeyup&&d("textarea[maxlength]","keyup",50),void(g.activeKeyup&&d(".fn-active","keyup",50)))},c.prototype.isValid=function(b){var c=a(b),d=this.options;return(void 0===c.data("validity")||d.alwaysRevalidate)&&this.validate(b),c.data("validity")&&c.data("validity").valid},c.prototype.validate=function(b){var c=this,d=this.$element,e=this.options,f=a(b),g=f.attr("equalTo");g&&f.attr("pattern","^"+d.find(g).val()+"$");var h=f.attr("pattern")||!1,i=new RegExp(h),j=null,k=null,l=f.is("[type=checkbox]")?(k=d.find('input[name="'+b.name+'"]')).filter(":checked").length:f.is("[type=radio]")?(j=this.$element.find('input[name="'+b.name+'"]')).filter(":checked").length>0:f.val();f=k&&k.length?k.first():f;var m=void 0!==f.attr("required")&&"false"!==f.attr("required"),n=parseInt(f.attr("maxlength"),10),o=parseInt(f.attr("minlength"),10),p=Number(f.attr("min")),q=Number(f.attr("max")),r=this.createValidity({field:f[0],valid:!0});if(e.debug&&window.console&&(console.log("Validate: value -> ["+l+", regex -> ["+i+"], required -> "+m),console.log("Regex test: "+i.test(l)+", Pattern: "+h)),!isNaN(n)&&l.length>n&&(r.valid=!1,r.tooLong=!0),!isNaN(o)&&l.length<o&&(r.valid=!1,r.customError="tooShort"),!isNaN(p)&&Number(l)<p&&(r.valid=!1,r.rangeUnderflow=!0),!isNaN(q)&&Number(l)>q&&(r.valid=!1,r.rangeOverflow=!0),m&&!l)r.valid=!1,r.valueMissing=!0;else if((k||f.is('select[multiple="multiple"]'))&&l){l=k?l:l.length;var s=parseInt(f.attr("minchecked"),10),t=parseInt(f.attr("maxchecked"),10);!isNaN(s)&&s>l&&(r.valid=!1,r.customError="checkedUnderflow"),!isNaN(t)&&l>t&&(r.valid=!1,r.customError="checkedOverflow")}else h&&!i.test(l)&&l&&(r.valid=!1,r.patternMismatch=!0);var u,v=function(b){this.markField(b);var d=a.Event("validated.field.validator");d.validity=b,f.trigger(d).data("validity",b);var e=j||k;return e&&e.not(f).data("validity",b).each(function(){b.field=this,c.markField(b)}),b};if("function"==typeof e.validate&&(u=e.validate.call(this,r)),u){var w=new a.Deferred;return f.data("fnui.dfdValidity",w.promise()),a.when(u).always(function(a){w[a.valid?"resolve":"reject"](a),v.call(c,a)})}v.call(this,r)},c.prototype.markField=function(a){var b=this.options,c="mark"+(a.valid?"":"In")+"Valid";b[c]&&b[c].call(this,a)},c.prototype.validateForm=function(){var b=this,c=this.$element,d=this.options,e=c.find(d.allFields).not(d.ignore),f=[],g=!0,h=[],i=a([]),j=[],k=!1;c.trigger("validate.form.validator");var l=e.filter(function(a){var b;if("INPUT"===this.tagName&&"radio"===this.type){if(b=this.name,f[b]===!0)return!1;f[b]=!0}return!0});l.each(function(){var d=a(this),e=b.isValid(this),f=d.data("validity");g=!!e&&g,h.push(f),e||(i=i.add(a(this),c));var l=d.data("fnui.dfdValidity");if(l)j.push(l),k=!0;else{var m=new a.Deferred;j.push(m.promise()),m[e?"resolve":"reject"](f)}});var m={valid:g,$invalidFields:i,validity:h,promises:j,async:k};return c.trigger("validated.form.validator",m),m},c.prototype.isFormValid=function(){var b=this,c=this.validateForm(),d=function(a){b.$element.trigger(a+".validator")};if(c.async){var e=new a.Deferred;return a.when.apply(null,c.promises).then(function(){e.resolve(),d("valid")},function(){e.reject(),d("invalid")}),e.promise()}if(!c.valid){var f=c.$invalidFields.first();return f.is("[data-fn-selected]")&&(f=f.next(".fn-selected").find(".fn-selected-btn")),f.focus(),d("invalid"),!1}return d("valid"),!0},c.prototype.createValidity=function(b){return a.extend({customError:b.customError||!1,patternMismatch:b.patternMismatch||!1,rangeOverflow:b.rangeOverflow||!1,rangeUnderflow:b.rangeUnderflow||!1,stepMismatch:b.stepMismatch||!1,tooLong:b.tooLong||!1,typeMismatch:b.typeMismatch||!1,valid:b.valid||!0,valueMissing:b.valueMissing||!1},b)},c.prototype.getValidationMessage=function(b){var d,e,f=c.validationMessages[this.options.locales],g="%s",h=a(b.field);return(h.is('[type="checkbox"]')||h.is('[type="radio"]'))&&(h=this.$element.find("[name="+h.attr("name")+"]").first()),a.each(b,function(a,b){return"field"===a||"valid"===a?a:"customError"===a&&b?(d=b,f=f.customError,!1):b===!0?(d=a,!1):void 0}),e=f[d]||void 0,e&&c.ERROR_MAP[d]&&(e=e.replace(g,h.attr(c.ERROR_MAP[d])||"规定的")),e},c.prototype.removeMark=function(){this.$element.find(".fn-form-success, .fn-form-error, ."+this.options.inValidClass+", ."+this.options.validClass).removeClass(["fn-form-success","fn-form-error",this.options.inValidClass,this.options.validClass].join(" "))},c.prototype.destroy=function(){this.removeMark(),this.$element.removeData("fnui.validator fnui.checked").off(".validator").find(this.options.allFields).removeData("validity fnui.dfdValidity")},b.plugin("validator",c),b.ready(function(b){a("[data-fn-validator]",b).validator()}),c}(jQuery,a),x=function(a,b){var c=function(b,d){null==d&&(d={}),this.$element=a(b),this.options=a.extend({},c.DEFAULTS,{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")},d),this.$wrapper=a("<div>",{"class":function(a){return function(){var b;return b=[""+a.options.baseClass].concat(a._getClasses(a.options.wrapperClass)),b.push(a.options.state?""+a.options.baseClass+"-on":""+a.options.baseClass+"-off"),null!=a.options.size&&b.push(""+a.options.baseClass+"-"+a.options.size),a.options.disabled&&b.push(""+a.options.baseClass+"-disabled"),a.options.readonly&&b.push(""+a.options.baseClass+"-readonly"),a.options.indeterminate&&b.push(""+a.options.baseClass+"-indeterminate"),a.options.inverse&&b.push(""+a.options.baseClass+"-inverse"),a.$element.attr("id")&&b.push(""+a.options.baseClass+"-id-"+a.$element.attr("id")),b.join(" ")}}(this)()}),this.$container=a("<div>",{"class":""+this.options.baseClass+"-container"}),this.$on=a("<span>",{html:this.options.onText,"class":""+this.options.baseClass+"-handle-on "+this.options.baseClass+"-"+this.options.onColor}),this.$off=a("<span>",{html:this.options.offText,"class":""+this.options.baseClass+"-handle-off "+this.options.baseClass+"-"+this.options.offColor}),this.$label=a("<span>",{html:this.options.labelText,"class":""+this.options.baseClass+"-label"}),this.$element.on("init.fnswitch",function(a){return function(){return a.options.onInit.apply(b,arguments)}}(this)),this.$element.on("switchChange.fnswitch",function(a){return function(){return a.options.onSwitchChange.apply(b,arguments)}}(this)),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.fnswitch")};return c.DEFAULTS={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp;",handleWidth:"auto",labelWidth:"auto",baseClass:"fn-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}},c.prototype._constructor=c,c.prototype.state=function(a,b){return"undefined"==typeof a?this.options.state:this.options.disabled||this.options.readonly?this.$element:this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")?this.$element:(this.options.indeterminate&&this.indeterminate(!1),a=!!a,this.$element.prop("checked",a).trigger("change.fnswitch",b),this.$element)},c.prototype.toggleState=function(a){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.fnswitch",a)},c.prototype.size=function(a){return"undefined"==typeof a?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(""+this.options.baseClass+"-"+this.options.size),a&&this.$wrapper.addClass(""+this.options.baseClass+"-"+a),this._width(),this._containerPosition(),this.options.size=a,this.$element)},c.prototype.animate=function(a){return"undefined"==typeof a?this.options.animate:(a=!!a,a===this.options.animate?this.$element:this.toggleAnimate())},c.prototype.toggleAnimate=function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(""+this.options.baseClass+"-animate"),this.$element},c.prototype.disabled=function(a){return"undefined"==typeof a?this.options.disabled:(a=!!a,a===this.options.disabled?this.$element:this.toggleDisabled())},c.prototype.toggleDisabled=function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(""+this.options.baseClass+"-disabled"),this.$element},c.prototype.readonly=function(a){return"undefined"==typeof a?this.options.readonly:(a=!!a,a===this.options.readonly?this.$element:this.toggleReadonly())},c.prototype.toggleReadonly=function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(""+this.options.baseClass+"-readonly"),this.$element},c.prototype.indeterminate=function(a){return"undefined"==typeof a?this.options.indeterminate:(a=!!a,a===this.options.indeterminate?this.$element:this.toggleIndeterminate())},c.prototype.toggleIndeterminate=function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(""+this.options.baseClass+"-indeterminate"),this._containerPosition(),this.$element},c.prototype.inverse=function(a){return"undefined"==typeof a?this.options.inverse:(a=!!a,a===this.options.inverse?this.$element:this.toggleInverse())},c.prototype.toggleInverse=function(){var a,b;return this.$wrapper.toggleClass(""+this.options.baseClass+"-inverse"),b=this.$on.clone(!0),a=this.$off.clone(!0),this.$on.replaceWith(a),this.$off.replaceWith(b),this.$on=a,this.$off=b,this.options.inverse=!this.options.inverse,this.$element},c.prototype.onColor=function(a){var b;return b=this.options.onColor,"undefined"==typeof a?b:(null!=b&&this.$on.removeClass(""+this.options.baseClass+"-"+b),this.$on.addClass(""+this.options.baseClass+"-"+a),this.options.onColor=a,this.$element)},c.prototype.offColor=function(a){var b;return b=this.options.offColor,"undefined"==typeof a?b:(null!=b&&this.$off.removeClass(""+this.options.baseClass+"-"+b),this.$off.addClass(""+this.options.baseClass+"-"+a),this.options.offColor=a,this.$element)},c.prototype.onText=function(a){return"undefined"==typeof a?this.options.onText:(this.$on.html(a),this._width(),this._containerPosition(),this.options.onText=a,this.$element)},c.prototype.offText=function(a){return"undefined"==typeof a?this.options.offText:(this.$off.html(a),this._width(),this._containerPosition(),this.options.offText=a,this.$element)},c.prototype.labelText=function(a){return"undefined"==typeof a?this.options.labelText:(this.$label.html(a),this._width(),this.options.labelText=a,this.$element)},c.prototype.handleWidth=function(a){return"undefined"==typeof a?this.options.handleWidth:(this.options.handleWidth=a,this._width(),this._containerPosition(),this.$element)},c.prototype.labelWidth=function(a){return"undefined"==typeof a?this.options.labelWidth:(this.options.labelWidth=a,this._width(),this._containerPosition(),this.$element)},c.prototype.baseClass=function(a){return this.options.baseClass},c.prototype.wrapperClass=function(a){return"undefined"==typeof a?this.options.wrapperClass:(a||(a=c.DEFAULTS.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(a).join(" ")),this.options.wrapperClass=a,this.$element)},c.prototype.radioAllOff=function(a){return"undefined"==typeof a?this.options.radioAllOff:(a=!!a,a===this.options.radioAllOff?this.$element:(this.options.radioAllOff=a,this.$element))},c.prototype.onInit=function(a){return"undefined"==typeof a?this.options.onInit:(a||(a=c.DEFAULTS.onInit),this.options.onInit=a,this.$element)},c.prototype.onSwitchChange=function(a){return"undefined"==typeof a?this.options.onSwitchChange:(a||(a=c.DEFAULTS.onSwitchChange),this.options.onSwitchChange=a,this.$element)},c.prototype.destroy=function(){var a;return a=this.$element.closest("form"),a.length&&a.off("reset.fnswitch").removeData("fnui.switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".fnswitch").removeData("fnui.switch"),this.$element},c.prototype._width=function(){var a,b;return a=this.$on.add(this.$off),a.add(this.$label).css("width",""),b="auto"===this.options.handleWidth?Math.max(this.$on.width(),this.$off.width()):this.options.handleWidth,
a.width(b),this.$label.width(function(a){return function(c,d){return"auto"!==a.options.labelWidth?a.options.labelWidth:b>d?b:d}}(this)),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)},c.prototype._containerPosition=function(a,b){return null==a&&(a=this.options.state),this.$container.css("margin-left",function(b){return function(){var c;return c=[0,"-"+b._handleWidth+"px"],b.options.indeterminate?"-"+b._handleWidth/2+"px":a?b.options.inverse?c[1]:c[0]:b.options.inverse?c[0]:c[1]}}(this)),b?setTimeout(function(){return b()},50):void 0},c.prototype._init=function(){var a,b;return a=function(a){return function(){return a._width(),a._containerPosition(null,function(){return a.options.animate?a.$wrapper.addClass(""+a.options.baseClass+"-animate"):void 0})}}(this),this.$wrapper.is(":visible")?a():b=window.setInterval(function(c){return function(){return c.$wrapper.is(":visible")?(a(),window.clearInterval(b)):void 0}}(this),50)},c.prototype._elementHandlers=function(){return this.$element.on({"change.fnswitch":function(b){return function(c,d){var e;return c.preventDefault(),c.stopImmediatePropagation(),e=b.$element.is(":checked"),b._containerPosition(e),e!==b.options.state?(b.options.state=e,b.$wrapper.toggleClass(""+b.options.baseClass+"-off").toggleClass(""+b.options.baseClass+"-on"),d?void 0:(b.$element.is(":radio")&&a("[name='"+b.$element.attr("name")+"']").not(b.$element).prop("checked",!1).trigger("change.fnswitch",!0),b.$element.trigger("switchChange.fnswitch",[e]))):void 0}}(this),"focus.fnswitch":function(a){return function(b){return b.preventDefault(),a.$wrapper.addClass(""+a.options.baseClass+"-focused")}}(this),"blur.fnswitch":function(a){return function(b){return b.preventDefault(),a.$wrapper.removeClass(""+a.options.baseClass+"-focused")}}(this),"keydown.fnswitch":function(a){return function(b){if(b.which&&!a.options.disabled&&!a.options.readonly)switch(b.which){case 37:return b.preventDefault(),b.stopImmediatePropagation(),a.state(!1);case 39:return b.preventDefault(),b.stopImmediatePropagation(),a.state(!0)}}}(this)})},c.prototype._handleHandlers=function(){return this.$on.on("click.fnswitch",function(a){return function(b){return b.preventDefault(),b.stopPropagation(),a.state(!1),a.$element.trigger("focus.fnswitch")}}(this)),this.$off.on("click.fnswitch",function(a){return function(b){return b.preventDefault(),b.stopPropagation(),a.state(!0),a.$element.trigger("focus.fnswitch")}}(this))},c.prototype._labelHandlers=function(){return this.$label.on({"mousedown.fnswitch touchstart.fnswitch":function(a){return function(b){return a._dragStart||a.options.disabled||a.options.readonly?void 0:(b.preventDefault(),b.stopPropagation(),a._dragStart=(b.pageX||b.originalEvent.touches[0].pageX)-parseInt(a.$container.css("margin-left"),10),a.options.animate&&a.$wrapper.removeClass(""+a.options.baseClass+"-animate"),a.$element.trigger("focus.fnswitch"))}}(this),"mousemove.fnswitch touchmove.fnswitch":function(a){return function(b){var c;if(null!=a._dragStart&&(b.preventDefault(),c=(b.pageX||b.originalEvent.touches[0].pageX)-a._dragStart,!(c<-a._handleWidth||c>0)))return a._dragEnd=c,a.$container.css("margin-left",""+a._dragEnd+"px")}}(this),"mouseup.fnswitch touchend.fnswitch":function(a){return function(b){var c;if(a._dragStart)return b.preventDefault(),a.options.animate&&a.$wrapper.addClass(""+a.options.baseClass+"-animate"),a._dragEnd?(c=a._dragEnd>-(a._handleWidth/2),a._dragEnd=!1,a.state(a.options.inverse?!c:c)):a.state(!a.options.state),a._dragStart=!1}}(this),"mouseleave.fnswitch":function(a){return function(b){return a.$label.trigger("mouseup.fnswitch")}}(this)})},c.prototype._externalLabelHandler=function(){var a;return a=this.$element.closest("label"),a.on("click",function(b){return function(c){return c.preventDefault(),c.stopImmediatePropagation(),c.target===a[0]?b.toggleState():void 0}}(this))},c.prototype._formHandler=function(){var b;return b=this.$element.closest("form"),b.data("fnui.switch")?void 0:b.on("reset.fnswitch",function(){return window.setTimeout(function(){return b.find("input").filter(function(){return a(this).data("fnui.switch")}).each(function(){return a(this).fnswitch("state",this.checked)})},1)}).data("fnui.switch",!0)},c.prototype._getClasses=function(b){var c,d,e,f;if(!a.isArray(b))return[""+this.options.baseClass+"-"+b];for(d=[],e=0,f=b.length;f>e;e++)c=b[e],d.push(""+this.options.baseClass+"-"+c);return d},a.fn.fnswitch=function(){var b,d,e;return d=arguments[0],b=2<=arguments.length?[].slice.call(arguments,1):[],e=this,this.each(function(){var f,g;return f=a(this),g=f.data("fnui.switch"),g||f.data("fnui.switch",g=new c(this,d)),"string"==typeof d?e=g[d].apply(g,b):void 0}),e},a.fn.fnswitch.Constructor=c,a(function(){a("[data-fn-switch]").fnswitch()}),b.switcher=c,c}(jQuery,a),y=function(a,b){var c=function(){this.$element=a(c.DEFAULT.tpl),this.inited=!1};return c.DEFAULT={tpl:'<!--BEGIN toast--><div id="toastInHtmlTemp" style="display:none"><div class="fn-mask-transparent"></div><div class="fn-toast"><i class="fn-icon-check"></i><p class="fn-toast-content">已完成</p></div></div><!--end toast--><!-- loading toast --><div id="loadingToast" class="fn-loading-toast" style="display:none"><div class="fn-mask-transparent"></div><div class="fn-toast"><div class="fn-loading"><div class="fn-loading-leaf fn-loading-leaf_0"></div><div class="fn-loading-leaf fn-loading-leaf_1"></div><div class="fn-loading-leaf fn-loading-leaf_2"></div><div class="fn-loading-leaf fn-loading-leaf_3"></div><div class="fn-loading-leaf fn-loading-leaf_4"></div><div class="fn-loading-leaf fn-loading-leaf_5"></div><div class="fn-loading-leaf fn-loading-leaf_6"></div><div class="fn-loading-leaf fn-loading-leaf_7"></div><div class="fn-loading-leaf fn-loading-leaf_8"></div><div class="fn-loading-leaf fn-loading-leaf_9"></div><div class="fn-loading-leaf fn-loading-leaf_10"></div><div class="fn-loading-leaf fn-loading-leaf_11"></div></div><p class="fn-toast-content">数据加载中</p></div></div>',info:"已完成",warning:"出错了",loading:"数据加载中",content:""},c.prototype.init=function(){return this.inited||(a(document.body).append(this.$element),this.inited=!0),this},c.prototype.content=function(a){return this.inited||this.init(),c.DEFAULT.content=a,this},c.prototype.clear=function(a){return this.inited||this.init(),c.DEFAULT.content="",this},c.prototype.show=function(b,d){if(this.inited||this.init(),void 0!=b&&-1!=b.indexOf("loading")){var e=a("#loadingToast");if(this.$toast=e,"none"!=e.css("display"))return;c.DEFAULT.content&&a("#loadingToast .fn-toast-content").html(c.DEFAULT.content)||a("#loadingToast .fn-toast-content").html(c.DEFAULT.loading),e.show(),d&&setTimeout(function(){e.hide()},d)}else if(void 0!=b&&-1!=b.indexOf("warning")){var f=a("#toastInHtmlTemp");this.$toast=f,a("#toastInHtmlTemp i").removeClass("fn-icon-check").addClass("fn-icon-exclamation"),c.DEFAULT.content&&a("#toastInHtmlTemp .fn-toast-content").html(c.DEFAULT.content)||a("#toastInHtmlTemp .fn-toast-content").html(c.DEFAULT.warning),f.show(),d&&setTimeout(function(){f.hide()},d)}else{var f=a("#toastInHtmlTemp");this.$toast=f,a("#toastInHtmlTemp i").removeClass("fn-icon-exclamation").addClass("fn-icon-check"),c.DEFAULT.content&&a("#toastInHtmlTemp .fn-toast-content").html(c.DEFAULT.content)||a("#toastInHtmlTemp .fn-toast-content").html(c.DEFAULT.info),f.show(),d&&setTimeout(function(){f.hide()},d)}return this},c.prototype.close=function(a){return this.$toast.hide(),this},b.toast=new c,a.toast=b.toast}(jQuery,a),z=function(a){return window.FNUI=a}(a)}();